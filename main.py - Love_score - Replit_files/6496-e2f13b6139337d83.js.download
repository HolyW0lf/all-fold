"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6496],{77352:function(e,n,t){t.d(n,{gC:function(){return f},LK:function(){return d},jJ:function(){return p}});var r=t(35944),i=t(35642),o=t(15085),a=t(11163),u=["100-days-of-python","100-days-of-python-promo","add-guest-new-user","apps-announcement","appsOnboardingForkRepl","appsOnboardingRunRepl","appsOnboardingSelectRepl","april_2019_hiring","archive-cta","assignment_markdown","boosts-modal","classroom-repl-talk-ask-on-error","cleanup-popover-dismissed","codemirror-explorers-banner","create-model-solution","createWebsite","curriculum-launch-modal","cycles-survey","dashboard_new_folder","dashboard_search","dashboard_templates","debugger_start","dec172020maintenance","devtools-intro","discount_hacker_18","discount_holiday_19","discount_newyear_19","downtime-073118","draw-new-user-cta","enveditorintro","file_tree","follow-cursor-avatar-click","grid_click","hacker-gift","hacker_upgrade","home","home-feed","home-onboarding-checklist","home-onboarding-checklist-apps","home-onboarding-checklist-learn","home-onboarding-checklist-repl","hosting_url","introduceYourself","july18_irl","july_2019_music_jam","landing","languagesInterestedIn","launch-modal","learn-onboarding","make_website","march_2019_game_jam","migrated_unnamed_repls","mobile-new-workspace-banner","mobile-survey-banner-11042021","js-4-day-challenge-day-1","js-4-day-challenge-day-2","js-4-day-challenge-day-3","js-4-day-challenge-day-4","js-4-day-challenge-day-end","move_unnamed_repls","multiplayer","multiplayer_invite","multiplayer_welcome","new_in_repls","new_share","nft-world-2022","onboarding_connection_toast","onboarding_run","onboarding-simplify-experiment","packager-shell-hint","packman","privacy-update-09/21","product_hunt","profile2","profile-refresh-beta","projects-overview-cta","projects-overview-tests-disclaimer","publish-guidelines","repl-con-2022","repl_stars","repl-talk-update-2021","repl-talk-update-2022","revisions_history","run_on_replit","saw_unnamed_folders","search","self-grouping-projects-cta","series-b-announcement","share_classroom","share_repl_to_talk","show_packager_about_tooltip","show_packager_import_tooltip","show_test_update_tooltip","stack-create-cta","stack-migration-cta","summer-2021-pd-survey","summer_hacker","teams-grading-survey","teams-pro-2022","teams_pro_module","template-jam-announcement","threads-2-announcement","upgrade_module","workspace-desktop-tour","workspace-desktop-tour19","workspace-experience-task-completion-survey-06022022","workspace-experience-task-completion-survey-nudge-06022022","youtube-in-the-ws","edfest-announcement","cycles-release","legacy-cycles-grant-notice","mobile-announcement"];var c=t(88075),l=t(2146),s=t(86292);var d=function(e,n){return"".concat(e,"-tutorialChallenge-").concat(n)},p=function(e,n){var t,r,o=JSON.parse(i.Z.get(d(e,n),"string")||"{}");if("string"===typeof(r=o).tourName&&"string"===typeof r.url&&(t=o.tourName,u.includes(t)))return o},f=function(e){var n=e.challenge,t=u.find((function(e){return e.toString()===n.tourName}))||"js-4-day-challenge-day-1",i=(0,l.o)(t),d=i.isDone,p=i.isLoading,f=i.setAsDone,h=(0,a.useRouter)();return p?null:(0,r.tZ)(o.zx,{colorway:d?"primary":"positive",onClick:function(){f(),(0,s.j)(s.U3.TUTORIAL_DONE_BUTTON_COMPLETED),h.push("/~")},disabled:d,iconLeft:(0,r.tZ)(c.Z,{}),big:!0,text:d?"Challenge completed!":"Complete Challenge"})}},30439:function(e,n,t){t.d(n,{BW:function(){return d},Fc:function(){return p},ir:function(){return s}});var r=t(26042),i=t(7297),o=t(31230),a=t(37887);function u(){var e=(0,i.Z)(["\n  fragment CurrentUserCyclesUsageForecast on CurrentUser {\n    id\n    cycles {\n      forecast(daysFromNow: 7) {\n        ... on CyclesForecast {\n          hasSufficientCycles\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}function c(){var e=(0,i.Z)(["\n  query RunningOutOfCyclesBanner {\n    currentUser {\n      id\n      ...CurrentUserCyclesUsageForecast\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var l={},s=(0,o.Ps)(u()),d=(0,o.Ps)(c(),s);function p(e){var n=(0,r.Z)({},l,e);return a.a(d,n)}},97624:function(e,n,t){t.d(n,{E_:function(){return E},d3:function(){return y},kK:function(){return P}});var r=t(26042),i=t(7297),o=t(31230),a=t(16092),u=t(54596),c=t(9614),l=t(30439),s=t(37887);function d(){var e=(0,i.Z)(["\n  fragment CurrentUserPowerUpCosts on CurrentUser {\n    id\n    powerUpCosts {\n      ... on UserPowerUpCostsType {\n        private {\n          cycles\n          explanation\n        }\n        ghostwriter {\n          cycles\n          explanation\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment CyclesUsageRepl on Repl {\n    id\n    url\n    nextPagePathname\n    title\n    iconUrl\n  }\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment CyclesUsageReplPowerUp on ReplPowerUpDescriptionType {\n    active\n    type\n    time_last_fulfilled\n    time_fulfillment_due\n    repl {\n      id\n      ...CyclesUsageRepl\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment CurrentUserPowerUps on CurrentUser {\n    id\n    userPowerUps {\n      __typename\n      ... on UserPowerUpDescriptionType {\n        id\n        ...UserPowerUp\n      }\n    }\n    replPowerUps {\n      __typename\n      ... on ReplPowerUpDescriptionType {\n        id\n        ...CyclesUsageReplPowerUp\n      }\n    }\n  }\n  ","\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment PowerUpMutationReturnFields on CurrentUser {\n    id\n    ...CyclesBalanceFragment\n    ...CurrentUserPowerUpCosts\n    ...CurrentUserPowerUps\n    ...CurrentUserCyclesUsageForecast\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return v=function(){return e},e}function g(){var e=(0,i.Z)(["\n  query CyclesUsage {\n    currentUser {\n      id\n      ...UserLinkCurrentUser\n      ...CurrentUserPowerUps\n    }\n  }\n  ","\n  ","\n"]);return g=function(){return e},e}function m(){var e=(0,i.Z)(["\n  query CyclesUsagePowerUpCosts {\n    currentUser {\n      __typename\n      ... on CurrentUser {\n        id\n        ...CurrentUserPowerUpCosts\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var w={},y=(0,o.Ps)(d()),x=(0,o.Ps)(p()),Z=(0,o.Ps)(f(),x),b=(0,o.Ps)(h(),u.a,Z),E=(0,o.Ps)(v(),c.KD,y,b,l.ir),I=(0,o.Ps)(g(),a.P,b);function P(e){var n=(0,r.Z)({},w,e);return s.a(I,n)}m()},149:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(10253),i=t(35944),o=t(15085),a=t(67629),u=t(85873),c=t(67294);function l(e){var n=e.onOptIn,t=e.dismissible,l=void 0!==t&&t,s=(0,r.Z)(c.useState(!1),2),d=s[0],p=s[1];return d?null:(0,i.BX)(o.G7,{css:[o.gU.nofill,o.l0.flex.row,o.l0.flex.wrap,o.l0.align.center,o.l0.height(32),o.l0.justify.spaceBetween,o.l0.pl(8),o.l0.pr(8),o.l0.backgroundColor.blurpleDimmest,{overflow:"hidden"},l?null:o.l0.center],role:"button",onClick:n,children:[(0,i.BX)(o.G7,{css:[o.l0.rowWithGap(8),{lineHeight:"32px",alignItems:"center"},o.l0.maxWidth("90%"),o.l0.height(32),l?o.l0.flex.grow(1):null],children:[(0,i.tZ)(o.u,{tooltip:"Try Ghostwriter",children:(0,i.tZ)(u.Z,{onClick:n})}),(0,i.tZ)(o.xv,{variant:"small",css:[o.l0.overflow("hidden"),o.l0.maxWidth("90%"),o.l0.pr(8)],children:"Save time with Ghostwriter"})]}),l?(0,i.tZ)(o.hU,{alt:"Dismiss",tooltipHidden:!0,onClick:function(){p(!0)},children:(0,i.tZ)(a.Z,{})}):null]})}},34370:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(10253),i=t(35944),o=t(93058),a=t(57208),u=t(26042),c=t(7297),l=t(31230),s=t(97624),d=t(50319),p=t(37887);function f(){var e=(0,c.Z)(["\n  mutation GhostwriterPowerUpToggle($input: UpdateGhostwriterPowerUpInput!) {\n    updateGhostwriterPowerUp(input: $input) {\n      ... on CurrentUser {\n        id\n        ...PowerUpMutationReturnFields\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,c.Z)(["\n  query GhostwriterPowerUpTogglePowerUpCosts {\n    currentUser {\n      __typename\n      ... on CurrentUser {\n        id\n        ...CurrentUserPowerUpCosts\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}var v={},g=(0,l.Ps)(f(),s.E_);var m=(0,l.Ps)(h(),s.d3);var w=t(57567),y=t(88159);function x(e){var n,t=e.ghostwriterPowerUp,c=e.context,l=e.overrideDefaultComponent,s=(0,o.Z)().showError,f=(0,r.Z)(function(e){var n=(0,u.Z)({},v,e);return d.D(g,n)}({onCompleted:function(e){"UserError"===e.updateGhostwriterPowerUp.__typename&&s(e.updateGhostwriterPowerUp.message)},onError:function(e){return s((0,a.Z)(e.message))}}),2),h=f[0],x=f[1].loading,Z=function(e){var n=(0,u.Z)({},v,e);return p.a(m,n)}(),b=Z.data,E=Z.loading,I="UserPowerUpCostsType"===(null===b||void 0===b||null===(n=b.currentUser)||void 0===n?void 0:n.powerUpCosts.__typename)&&b.currentUser.powerUpCosts.ghostwriter.explanation||null,P={type:"ghostwriter",active:null!=t&&t.active,time_fulfillment_due:null===t||void 0===t?void 0:t.time_fulfillment_due,available:null!=t,costExplanation:I};return(0,i.tZ)(w.Z,{powerUpState:P,context:c,loading:x||E,interactiveOverride:l?"ghostwriter-banner":void 0,togglePowerUp:function(){return(0,y.$)({powerUpState:P,mutationHandler:function(e){h({variables:{input:{active:e}}})}})}})}},57567:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(47568),i=t(10253),o=t(34051),a=t.n(o),u=t(35944),c=t(28873),l=t(20177),s=t(58645),d=t(93058),p=t(15085),f=t(519),h=t(91131),v=t(90317),g=t(149);function m(e){var n,t=e.powerUpState,o=e.context,m=e.loading,w=e.interactiveOverride,y=e.togglePowerUp,x=(0,i.Z)((0,h.KO)(s.s0),2),Z=x[0],b=x[1],E=(0,d.Z)().showError,I=t.costExplanation,P=s.NR[t.type],k=function(){if(!m)if("NEEDS_CYCLES"!==I&&"SPEND_CYCLES"!==I){if("INCLUDED_IN_EXISTING_ORDER"!==I){if("INCLUDED_IN_SUBSCRIPTION"===I)return t.active?void y():void E("".concat(t.type," is already included in your subscription"));throw new Error("Unexpected cost explanation for enabling ".concat(t.type,": ").concat(I))}y()}else b(P)},T=t.available?(0,u.tZ)(f.Z,{isOn:null!==(n=t.active)&&void 0!==n&&n,onChange:k}):(0,u.tZ)(p.zx,{text:"Learn more",colorway:"primary",onClick:k});return"ghostwriter-banner"===w&&(T=(0,u.tZ)(g.Z,{dismissible:!0,onOptIn:k})),(0,u.BX)(u.HY,{children:[T,(0,u.tZ)(c.Z,{isOpen:Z===s.xQ.BuyCycles,onRequestClose:function(){return b(null)},uponPurchaseGoTo:"cyclesPage",context:o}),(0,u.tZ)(l.Z,{context:o,isOpen:Z===P,onRequestClose:function(){return b(null)},onRequestBuyMore:function(){return b(s.xQ.BuyCycles)},onRequestPowerUp:(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(),e.next=3,new Promise((function(e){return setTimeout(e,3e3)}));case 3:b(null);case 4:case"end":return e.stop()}}),e)}))),canSpend:I!==v.Ch.NeedsCycles,powerUp:t.type})]})}},88159:function(e,n,t){function r(e){var n=e.mutationHandler,t=e.powerUpState;n(!!!t.available||!t.active)}t.d(n,{$:function(){return r}})},58645:function(e,n,t){t.d(n,{NR:function(){return o},s0:function(){return a},xQ:function(){return r}});var r,i=t(91131);!function(e){e.BuyCycles="BuyCycles",e.BuyPrivatePowerUp="BuyPrivatePowerUp",e.BuyGhostwriterPowerUp="BuyGhostwriterPowerUp",e.BuyBoostPowerUp="BuyBoostPowerUp",e.BuyAlwaysOnPowerUp="BuyAlwaysOnPowerUp"}(r||(r={}));var o={"always-on":r.BuyAlwaysOnPowerUp,boost:r.BuyBoostPowerUp,private:r.BuyPrivatePowerUp,ghostwriter:r.BuyGhostwriterPowerUp},a=(0,i.cn)(null)},56356:function(e,n,t){t.d(n,{B:function(){return o},Z:function(){return a}});var r=t(55877),i=t.n(r),o=15;function a(e){var n=e.isStacked,t=e.isHTML,r=e.codeEditorPath,o=void 0===r?"":r,a={codeEditor:{paneId:i()(),pane:{type:"codeEditor",data:{path:o}}},output:{paneId:i()(),pane:{type:t?"webview":"runnerOutput"}},shell:{paneId:i()(),pane:{type:"shell"}}},u={};Object.values(a).forEach((function(e){var n=e.paneId,t=e.pane;u[n]=t}));var c=function(e){var n=e.codeEditorId,t=e.outputId,r=e.shellId;return{floating:[],tiling:e.isStacked?{type:"split",stacked:!0,percent:100,children:[{id:i()(),percent:60,type:"paneGroup",panes:[n],activeIndex:0},{id:i()(),percent:40,type:"paneGroup",panes:[t,r],activeIndex:0}]}:{type:"split",stacked:!1,percent:100,children:[{id:i()(),percent:55,type:"paneGroup",panes:[n],activeIndex:0},{id:i()(),percent:45,type:"paneGroup",panes:[t,r],activeIndex:0}]}}}({codeEditorId:a.codeEditor.paneId,outputId:a.output.paneId,shellId:a.shell.paneId,isStacked:n});return{layout:c,data:u}}},65e3:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(67294),i=t(61193),o=t(99408),a=t(22371),u=t(65456);function c(){var e=(0,o.Z)().fs,n=(0,i.c)("flag-tutorial-pane"),t=n.enabled,c=n.loading,l=(0,r.useState)({isLoading:!0,isTutorial:!1}),s=l[0],d=l[1];return(0,r.useEffect)((function(){t&&!c&&e.watchDir(".",{onChange:function(e){d({isLoading:!1,isTutorial:e.some((function(e){return e.type===u.Tv.Directory&&e.filename===a.V}))})},onMoveOrDelete:function(){d({isLoading:!1,isTutorial:!1})},onError:function(){d({isLoading:!1,isTutorial:!1})}})}),[e,t,c]),t?s:{isLoading:!1,isTutorial:!1}}},12771:function(e,n,t){t.d(n,{KC:function(){return o},Rh:function(){return a},_F:function(){return c}});var r=t(59637),i=t(29815);function o(e,n){var t=(0,r.Z)(n),i=t[0],o=t.slice(1);if("floating"===i){if(!e.floating)return null;var a=o[0];if("number"!==typeof a)throw new Error("Expected floatingIndex");var u=e.floating[a];if(!u)throw new Error("Expected paneGroup");return u}if("tiling"!==i)throw new Error("Expected tiling path");var c=e.tiling;if(!c)return null;var l=c,s=o.length,d=0,p=!0,f=!1,h=void 0;try{for(var v,g=o[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var m=v.value;if("paneGroup"===l.type)break;if("number"!==typeof m)throw new Error("Expected number");d++,l=l.children[m]}}catch(w){f=!0,h=w}finally{try{p||null==g.return||g.return()}finally{if(f)throw h}}return s===d?l:null}function a(e,n){var t=e.floating.find((function(e){return e.panes.includes(n)}));if(t)return{index:t.panes.indexOf(n),paneGroup:t,paneGroupPath:["floating",e.floating.indexOf(t)],floating:!0};var r=e.tiling;if(!r)return null;for(var o=[{paneGroupPath:["tiling"],parent:null,grandparent:null,node:r}];o.length;){var a=o.shift();if(!a)throw new Error("Expected item");if("split"===a.node.type){var u=!0,c=!1,l=void 0;try{for(var s,d=a.node.children[Symbol.iterator]();!(u=(s=d.next()).done);u=!0){var p=s.value;o.push({grandparent:a.parent,parent:a.node,node:p,paneGroupPath:(0,i.Z)(a.paneGroupPath).concat([a.node.children.indexOf(p)])})}}catch(f){c=!0,l=f}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}}else if(a.node.panes.includes(n))return{paneGroupPath:a.paneGroupPath,paneGroup:a.node,parent:a.parent,grandparent:a.grandparent,index:a.node.panes.indexOf(n),floating:!1}}return null}function u(e,n,t){if("paneGroup"===e.type)return{paneGroup:e,path:t};var r=0,o=e.children.length-1;return"topRight"!==n||e.stacked?("bottomRight"===n||"bottomLeft"===n&&e.stacked)&&(r=o):r=o,u(e.children[r],n,(0,i.Z)(t).concat([r]))}function c(e,n){var t=e.tiling;return t?u(t,n,["tiling"]):null}},68963:function(e,n,t){t.d(n,{T:function(){return c},m:function(){return o}});var r=t(12771),i=t(91885);function o(e,n){var t=void 0===n.activeIndex?0:n.activeIndex;if(n.isFloating)e.floating.push({id:n.id,type:"floatingPaneGroup",panes:n.panes,activeIndex:t,rect:n.rect});else{var o=null;if(Array.isArray(n.relativeTo))o=n.relativeTo;else{var u=(0,r.Rh)(e,n.relativeTo);if(!u)throw new Error("Expected pane");o=u.paneGroupPath}if(null===o)throw new Error("Expected relativeTo");if("tiling"!==o[0])throw new Error("Expected tiling path");var c=n.placement,l=n.panes,s=n.percent,d="above"===c||"below"===c,p="rightOf"===c||"below"===c;if(e.tiling||1!==o.length){if(!e.tiling)throw new Error("Expected tiling");var f=(0,r.KC)(e,o);if(!f||!(0,i.r)(f))throw new Error("Expected tiled node");if(1!==o.length||"replace"!==c){if(1===o.length&&"paneGroup"===e.tiling.type){var h=[e.tiling];return e.tiling={type:"split",percent:100,stacked:d,children:h},void a({id:n.id,insertIndex:p?1:0,panes:l,children:h,percent:s,activeIndex:t})}if(1===o.length&&"split"===e.tiling.type){if(Boolean(e.tiling.stacked)===Boolean(d))return void a({id:n.id,panes:l,percent:s,activeIndex:t,insertIndex:p?e.tiling.children.length:0,children:e.tiling.children});var v={id:n.id,panes:l,type:"paneGroup",percent:void 0===s?50:s,activeIndex:t},g=p?[f,v]:[v,f];return f.percent=100-v.percent,void(e.tiling={type:"split",stacked:d,children:g,percent:100})}if(0===o.length)throw new Error("Expected relativeTo length");var m=(0,r.KC)(e,(0,i.I)(o));if("split"!==(null===m||void 0===m?void 0:m.type))throw new Error("Expected split parent");if("replace"!==c)if(Boolean(m.stacked)!==Boolean(d))if(Boolean(m.stacked)===Boolean(d));else{var w={id:n.id,panes:l,type:"paneGroup",percent:void 0===s?50:s,activeIndex:t},y=p?[f,w]:[w,f],x=f.percent;f.percent=100-w.percent;var Z=m.children.indexOf(f);m.children[Z]={type:"split",stacked:d,children:y,percent:x}}else{var b=m.children.indexOf(f);a({id:n.id,panes:l,percent:s,activeIndex:t,insertIndex:p?b+1:b,children:m.children})}else{var E=m.children.indexOf(f);m.children.splice(E,1,{id:n.id,panes:l,percent:f.percent,type:"paneGroup",activeIndex:t})}}else e.tiling={id:n.id,type:"paneGroup",percent:100,panes:l,activeIndex:t}}else e.tiling={id:n.id,type:"paneGroup",percent:100,panes:l,activeIndex:t}}}function a(e){var n=e.id,t=e.percent,r=e.children,i=e.panes,o=e.insertIndex,a=e.activeIndex;if(void 0===t){var u=r.reduce((function(e,n){return e+n.percent}),0)/r.length,c=100/(100+u);r.forEach((function(e){e.percent=e.percent*c}));var l={id:n,panes:i,type:"paneGroup",percent:u*c,activeIndex:a};r.splice(o,0,l)}else{var s=(100-t)/100;r.forEach((function(e){e.percent=e.percent*s}));var d={id:n,panes:i,type:"paneGroup",percent:t,activeIndex:a};r.splice(o,0,d)}}function u(e,n){var t=n.index,r=n.paneId,i=n.activate,o=void 0===i||i;if(void 0!==t&&t>e.panes.length)throw new Error("Invalid index");var a=void 0===t?e.panes.length:t;e.panes.splice(a,0,r),o&&(e.activeIndex=a)}function c(e,n){if("floating"!==n.paneGroupPath[0]){var t=(0,r.KC)(e,n.paneGroupPath);if("paneGroup"!==(null===t||void 0===t?void 0:t.type))throw new Error("Expected paneGroup");u(t,n)}else{var i=n.paneGroupPath[1];if("number"!==typeof i)throw new Error("Expected floatingIndex");var o=e.floating[i];if(!o)throw new Error("Expected paneGroup");u(o,n)}}},80175:function(e,n,t){t.d(n,{Z:function(){return l},i:function(){return c}});var r=t(10253),i=t(59637),o=t(12771),a=t(91885);function u(e,n){e.panes.splice(n,1),0!==e.activeIndex&&(n>e.activeIndex||(e.activeIndex=e.activeIndex-1))}function c(e,n){var t=(0,o.Rh)(e,n);if(!t)throw new Error("Expected pane");if(t.floating)if(1===t.paneGroup.panes.length){var r=t.paneGroupPath[1];if("number"!==typeof r)throw new Error("Expected floatingIndex");l(e,["floating",r])}else u(t.paneGroup,t.index);else{var i=t.paneGroup,a=t.paneGroupPath,c=t.parent;if(!i)throw new Error("paneGroup eith paneId not found: "+n);var s=i.panes.indexOf(n);if(-1===s)throw new Error("Expected paneIndex");c||1!==i.panes.length?i.panes.length>1?u(i,s):l(e,a):e.tiling=null}}function l(e,n){var t=(0,i.Z)(n),u=t[0],c=t.slice(1);if("tiling"!==u||0!==c.length)if("floating"!==u||0!==c.length){var l=(0,o.KC)(e,n);if(!l)throw new Error("Expected node");if("floatingPaneGroup"!==l.type){var s=(0,a.I)(n),d=(0,o.KC)(e,s);if("split"!==(null===d||void 0===d?void 0:d.type))throw new Error("Expected split");var p=d.children.indexOf(l);if(-1===p)throw new Error("Expected paneGroupIndex");var f=d.children;if(f.splice(p,1),f.length>1){var h=100/f.reduce((function(e,n){return e+n.percent}),0);f.forEach((function(e){e.percent=e.percent*h}))}else{var v=(0,r.Z)(f,1)[0],g=s.length>1?(0,o.KC)(e,(0,a.I)(s)):null;if(!g)return v.percent=100,void(e.tiling=v);if("split"!==g.type)throw new Error("Expected split");var m=g.children.indexOf(d);if(-1===m)throw new Error("Expected parentIndex");v.percent=d.percent,g.children[m]=v}}else{var w=e.floating.indexOf(l);if(-1===w)throw new Error("Expected paneGroupIndex");e.floating.splice(w,1)}}else e.floating=[];else e.tiling=null}},91885:function(e,n,t){function r(e){if(e.length<1)throw new Error("Expected a path with a parent");return e.slice(0,-1)}function i(e){return"floatingPaneGroup"!==e.type}t.d(n,{I:function(){return r},r:function(){return i}})},57416:function(e,n,t){t.d(n,{J1:function(){return l},W1:function(){return s},Xo:function(){return p},cr:function(){return f}});var r=t(91131),i=t(12727),o=t(54992),a=t(95068),u=t(21131),c=t(18172),l=(0,r.cn)(null),s=(0,r.cn)(null,(function(e,n,t){var r=e((0,i.z)(t)),u=e(r.data);if(n(l,t),(0,o.KM)(u)){var c=(0,o.DQ)(u);c&&n(a.Sg,c)}})),d=(0,r.cn)(null,(function(e,n,t){n(s,t);var r=(0,i.z)(t),a=e(r),u=e(a.data);n(l,t),(0,o.KM)(u)||n(r,(function(e){return(0,c.ZP)(e,(function(e){e.isCommited=!0}))}))}));function p(){return(0,r.b9)(d)}function f(e){var n=e.paneId,t=(0,u.Z)((function(){return(0,r.cn)((function(e){return e(l)===n}))}),[n]);return(0,r.Dv)(t)}},66421:function(e,n,t){t.d(n,{IY:function(){return s},xm:function(){return l},yF:function(){return c}});var r=t(26042),i=t(69396),o=t(91131),a=t(99336),u=(0,o.cn)(null);function c(){return(0,o.KO)(u)}var l=(0,o.cn)(null,(function(e,n,t){var o=t.error,c=t.tags,l=t.extras,s=(0,a.ZP)(o,{tags:(0,i.Z)((0,r.Z)({},c),{layoutstate:"true"}),extras:l});n(u,s)}));function s(){return(0,o.b9)(l)}},72676:function(e,n,t){t.d(n,{iH:function(){return b},SG:function(){return y},pc:function(){return w},Hs:function(){return x},rR:function(){return Z}});var r=t(29815),i=t(91131),o=t(18172),a=t(62991),u=t.n(a),c=t(26042),l=t(12771),s=t(91885);var d={top:0,bottom:0,left:0,right:0};function p(e,n){var t=n.size,i=n.gap,o=n.headerHeight,a=n.inset,u=void 0===a?d:a,p=[],f=[],h=[],v=[],g=null;function m(n,t,a,u){var c=t.children.indexOf(n),d=t.children.length,p=t.stacked?a.height:a.width;var w=function(){var e=a.width,r=a.height,u=n.percent/100;return t.stacked?r=(p-(i*(d-1)+o*d))*u+o:e=(p-i*(d-1))*u,{width:e,height:r}}(),y=w.width,x=w.height,Z=function(){var e=a.x,n=a.y;if(0===c)return{x:e,y:n};if(!g)throw new Error("Expected previousRect");return t.stacked?n=g.y+g.height+i:e=g.x+g.width+i,{x:e,y:n}}(),b={x:Z.x,y:Z.y,height:x,width:y};if(g=b,"paneGroup"===n.type){var E,I={x:b.x,y:b.y+o,width:b.width,height:b.height-o},P={x:I.x,y:I.y-o,width:I.width,height:o};v.push({id:n.id,rect:P,panes:n.panes,activeIndex:n.activeIndex,path:u}),(E=f).push.apply(E,(0,r.Z)(n.panes.map((function(e,t){return{paneId:e,rect:I,active:t===n.activeIndex}}))))}else n.children.forEach((function(e,t){return m(e,n,b,(0,r.Z)(u).concat([t]))}));if(0!==c){var k={x:b.x-(t.stacked?0:i),y:b.y-(t.stacked?i:0),width:t.stacked?b.width:i,height:t.stacked?i:b.height},T=(0,s.I)(u),U=(0,r.Z)(T).concat([c-1]),C=(0,l.KC)(e,U);if(!C||!(0,s.r)(C))throw new Error("Expected leftNode");var G=void 0;0===C.percent?G="left":0===n.percent&&(G="right"),h.push({parentPath:T,leftPath:U,rightPath:u,stacked:t.stacked,rect:k,snapped:G})}}var w={x:u.left,y:u.top,width:t.width-(u.left+u.right),height:t.height-(u.top+u.bottom)},y=e.tiling;if("paneGroup"===(null===y||void 0===y?void 0:y.type)){var x,Z={x:w.x,y:w.y+o,width:w.width,height:w.height-o},b={x:Z.x,y:Z.y-o,width:Z.width,height:o};v.push({id:y.id,rect:b,panes:y.panes,activeIndex:y.activeIndex,path:["tiling"]}),(x=f).push.apply(x,(0,r.Z)(y.panes.map((function(e,n){return{paneId:e,rect:Z,active:n===y.activeIndex}}))))}else y&&y.children.forEach((function(e,n){return m(e,y,w,["tiling",n])}));var E=u.left+49,I={x:w.x-E,y:w.y,width:w.width+E,height:w.height};return e.floating.forEach((function(e,n){var t,i=function(e,n){var t=n.inside,r=(0,c.Z)({},e);return r.x<t.x?(r.x=t.x,r.width=Math.min(r.width,t.width)):r.x+r.width>=t.x+t.width?(r.x=Math.max(t.x,t.x+t.width-r.width),r.width=Math.min(r.width,t.width)):r.width=Math.min(r.width,t.width),r.y<t.y?(r.y=t.y,r.height=Math.min(r.height,t.height)):r.y+r.height>=t.y+t.height?(r.y=Math.max(t.y,t.y+t.height-r.height),r.height=Math.min(r.height,t.height)):r.height=Math.min(r.height,t.height),r}(e.rect,{inside:I}),a={height:o,width:i.width,x:i.x,y:i.y},u={x:i.x,y:i.y+o,width:i.width,height:Math.max(i.height-o,0)};v.push({id:e.id,rect:a,panes:e.panes,activeIndex:e.activeIndex,path:["floating",n]}),(t=p).push.apply(t,(0,r.Z)(e.panes.map((function(n,t){return{paneId:n,rect:u,active:t===e.activeIndex}}))))})),{tiles:f,gutters:h,headers:v,floating:p}}var f=t(95068),h=t(12727),v=t(78648),g=t(35869),m=t(57416),w=30,y=8,x=(0,i.cn)((function(e){var n=e(h.M0),t=e(g.TL),r=e(h.CK);return{headerHeight:n,inset:{top:y,bottom:y,left:y+t.width,right:y},gap:y,size:{width:r.width,height:r.height}}})),Z=(0,i.cn)(null,(function(e,n,t){n(h.CK,t),n(b,e(f.g4))})),b=(0,i.cn)(null,(function(e,n,t){var i=function(t){var r=t.paneId,i=t.rect,a=t.type,c=t.isHidden;d.delete(r);var l=(0,h.z)(r),s=e(l),p=e(s.rectAtom);u()(p,i)||n(s.rectAtom,i);var f=(0,o.ZP)(s,(function(e){e.paneId=r,e.type=a,e.isDialog=!1,e.dropBehavior=null,e.isHidden=c}));u()(s,f)||n(l,f)},a=e(h.WA),c=e(h.X2),l=e(h.g3),s=e(h.If),d=new Set((0,r.Z)(a).concat((0,r.Z)(c))),g=new Set(l),w=new Set(s),y=p(t,e(x)),Z=y.tiles,b=y.floating,E=y.gutters,I=y.headers,P=E.map(v.xH);u()(l,P)||n(h.g3,P);var k=Z.map((function(e){return e.paneId}));u()(a,k)||n(h.WA,k);var T=b.map((function(e){return e.paneId}));u()(c,T)||n(h.X2,T);var U=[];I.forEach((function(t){w.delete(t.id);var r=(0,h.Xs)(t.id),i=e(r);U.push(t.id);var a=e(i.rectAtom);u()(a,t.rect)||n(i.rectAtom,t.rect);var c=(0,o.ZP)(i,(function(e){e.panes=t.panes,e.activeIndex=t.activeIndex,e.path=t.path}));u()(t,c)||n(r,c)})),u()(s,U)||n(h.If,U),Z.forEach((function(e){var n=e.paneId,t=e.rect,r=e.active;i({paneId:n,rect:t,isHidden:!r,type:"tile"})})),b.forEach((function(e){var n=e.paneId,t=e.rect,r=e.active;i({paneId:n,rect:t,isHidden:!r,type:"floating"})})),E.forEach((function(t){var r={handleId:(0,v.xH)(t),rect:t.rect,parentPath:t.parentPath,leftPath:t.leftPath,rightPath:t.rightPath,stacked:t.stacked,snapped:t.snapped};g.delete(r.handleId);var i=(0,h.vv)(r.handleId),o=e(i);u()(o,r)||n(i,r)})),d.forEach(h.z.remove),g.forEach(h.vv.remove),w.forEach(h.Xs.remove);var C=e(m.J1);C&&d.has(C)&&n(m.J1,null),n(f.g4,t)}))},3234:function(e,n,t){t.d(n,{Oi:function(){return l},S$:function(){return f},jw:function(){return d},nv:function(){return c},ye:function(){return s}});var r=t(29815),i=t(91131),o=t(86292),a=t(1086),u=t(35869),c=(0,i.cn)([]),l=function(e){var n={action:"opened"};switch(e){case"git":return(0,o.j)(o.U3.VERSION_CONTROL_FEATURE_USED,n);case"envEditor":return(0,o.j)(o.U3.ENV_EDITOR_USED,n);case"database":return(0,o.j)(o.U3.DATABASE_USED,n);case"replAuth":return(0,o.j)(o.U3.AUTH_SIDEBAR_USED,n);case"packager":return(0,o.j)(o.U3.PACKAGE_MANAGER_USED,n);case"unitTests":return(0,o.j)(o.U3.REPL_UNIT_TEST_USED,n);case"debugger":return(0,o.j)(o.U3.DEBUGGER_USED,n)}},s=(0,i.cn)(null,(function(e,n,t){var i=e(c);i.some((function(e){return e.type===t.type}))||n(c,a.D.reduce((function(e,n){if(t.type===n)return(0,r.Z)(e).concat([t]);var o=i.find((function(e){return e.type===n}));return o?(0,r.Z)(e).concat([o]):e}),[]))})),d=(0,i.cn)(null,(function(e,n,t){var r=e(c),i=r.filter((function(e){return e.type!==t}));i.length!==r.length&&n(c,i)})),p=(0,i.cn)((function(e){var n=e(u.TL);return n.width>0?n.pane.type:null}));function f(){return(0,i.Dv)(p)}},1086:function(e,n,t){t.d(n,{D:function(){return r}});var r=["tutorial","kaboombar","filetree","git","packager","envEditor","debugger","database","replAuth","autograder","unitTests","education","threadInbox","chat","preferences","adminPanel"]},63848:function(e,n,t){t.d(n,{K:function(){return o},m:function(){return i}});var r=t(91131),i=(0,r.cn)(null);function o(){return(0,r.Dv)(i)}},63035:function(e,n,t){t.d(n,{XD:function(){return a},gM:function(){return o},h$:function(){return i}});var r=t(91131),i=(0,r.cn)(!1),o=(0,r.cn)(!1),a=(0,r.cn)((function(e){return e(o)?"webview":"runnerOutput"}))},47875:function(e,n,t){t.d(n,{H:function(){return o},Q:function(){return a}});var r=t(91131),i=t(21131),o=(0,r.cn)({flagSaveLayoutState:!1,flagThreadsPane:!1,flagThreads2:!1,flagGhostrunner:!1,flagLayoutNavigator:!1});function a(e){var n=(0,i.Z)((function(){return(0,r.cn)((function(n){return Boolean(n(o)[e])}))}),[e]);return(0,r.Dv)(n)}},50146:function(e,n,t){t.d(n,{AW:function(){return l},WM:function(){return c}});var r=t(91131),i=t(15961),o=t(88055),a=t(8357),u=t(12727);var c=(0,r.cn)(null,(function(e,n,t){var r=e(u.Eh).find((function(n){return e(n.data).type===t.type}));if(r)n(a.v,{paneId:r.paneId,data:t});else{var o=function(e,n){var t=Math.min(600,e.width),r=Math.min(318.75+n,e.height);return{width:t,height:r,x:e.width-t,y:e.height-r}}(e(u.CK),e(u.M0));n(i.mV,{pane:t,rect:o})}}));var l=(0,r.cn)(null,(function(e,n,t){e(u.Eh).filter((function(n){return e(n.data).type===t})).forEach((function(e){return n(o.$,e.paneId)}))}))},15961:function(e,n,t){t.d(n,{BN:function(){return m},g2:function(){return h},gN:function(){return g},mV:function(){return w}});var r=t(91131),i=t(18172),o=t(71171),a=t.n(o),u=t(68963),c=t(95068),l=t(57416),s=t(12727),d=t(72676),p=t(66421),f=t(87671),h=(0,r.cn)(null,(function(e,n,t){var r=e(c.g4),o=a()(),f=(0,i.ZP)(r,(function(e){try{(0,u.m)(e,{id:a()(),panes:[o],relativeTo:t.relativeTo||["tiling"],placement:t.placement,percent:t.percent})}catch(r){throw n(p.xm,{error:r}),r}}));n(d.iH,f);var h=e((0,s.z)(o));n(h.data,t.pane),t.makeActive&&n(l.W1,o)})),v={top:"above",left:"leftOf",right:"rightOf",bottom:"below"},g=(0,r.cn)(null,(function(e,n,t){var r=t.pane,i=t.edge;n(f.KQ,{pane:r,relativeTo:["tiling"],placement:v[i]})}));function m(){return(0,r.b9)(g)}var w=(0,r.cn)(null,(function(e,n,t){var r=e(c.g4),o=a()(),f=(0,i.ZP)(r,(function(e){try{(0,u.m)(e,{id:a()(),panes:[o],isFloating:!0,rect:t.rect})}catch(r){throw n(p.xm,{error:r}),r}}));n(d.iH,f);var h=e((0,s.z)(o));n(h.data,t.pane),t.makeActive&&n(l.W1,o)}))},3032:function(e,n,t){t.d(n,{C:function(){return v},U:function(){return h}});var r=t(10253),i=t(91131),o=t(54992),a=t(95068),u=t(15961),c=t(12771),l=t(87671),s=t(11731),d=t(66421),p=t(8357),f=t(12727),h=(0,i.cn)(null,(function(e,n,t){var i=t.path,h=t.col,v=t.line,g=e(a.g4),m=(0,o.Dp)({path:i}),w="codeEditor"===m?{type:m,data:{path:i,col:h,line:v}}:{type:m,data:{path:i}};if(t.newPane)n(u.gN,{pane:w,edge:"left"});else{var y=(0,c._F)(g,"topLeft");if(y){var x=e(a.S6).find((function(n){return i===(0,o.DQ)(e(n.data))}));if(!x||t.newTab){var Z=(0,r.Z)(e(a.yv),1)[0],b=Z?e(a.S6).find((function(n){return!n.isHidden&&Z===(0,o.DQ)(e(n.data))})):null;if(b&&t.newTab){var E=(0,c.Rh)(g,b.paneId);if(!E){var I=new Error("Expected filePane");throw n(d.xm,{error:I}),I}var P=E.paneGroupPath,k=E.index;n(s.Et,{pane:w,paneGroupPath:P,activate:!0,index:k+1})}else{if(b)return n(p.v,{paneId:b.paneId,data:w}),void n(s.Oe,b.paneId);var T=e(a.S6).find((function(n){var t=e(n.data);return"codeEditor"===t.type&&""===(0,o.DQ)(t)}));if(T)return n(p.v,{paneId:T.paneId,data:w}),void n(s.Oe,T.paneId);var U=y.paneGroup.panes,C=U.find((function(n){var t=e((0,f.z)(n));return"commands"===e(t.data).type}));if(C)return n(p.v,{paneId:C,data:w}),void n(s.Oe,C);var G=(0,r.Z)(U,1)[0],S=(0,c.Rh)(g,G);if(!S){var A=new Error("Expected siblingPane");throw n(d.xm,{error:A}),A}n(s.Et,{pane:w,paneGroupPath:S.paneGroupPath,activate:!0})}}else n(s.Oe,x.paneId)}else n(l.KQ,{pane:w,relativeTo:["tiling"],placement:"replace"})}}));function v(){return(0,i.b9)(h)}},29780:function(e,n,t){t.d(n,{Iv:function(){return f},Wp:function(){return d},vL:function(){return p}});var r=t(91131),i=t(35869),o=t(3234),a=t(72676),u=t(95068),c=t(12727),l=t(56356),s=(0,r.cn)(null,(function(e,n,t){var r=t.type,s=t.keepOpen,d=e(i.ko),p=e(i.TL);if(d&&p.pane.type===r&&!s)return n(i.TL,(function(e){return{width:0,pane:e.pane}})),void n(a.iH,e(u.g4));var f=e(c.CK);if(p.width>0){var h=t.percent?f.width*(t.percent/100):p.width;return n(i.TL,{width:h,pane:{type:r}}),n(a.iH,e(u.g4)),void(0,o.Oi)(r)}var v=void 0===t.percent?l.B:t.percent,g=f.width*(v/100);n(i.TL,{width:g,pane:{type:r}}),n(a.iH,e(u.g4)),(0,o.Oi)(r)})),d=(0,r.cn)(null,(function(e,n,t){n(s,{type:t.type,percent:t.percent,keepOpen:!0})}));function p(){return(0,r.b9)(d)}function f(){return(0,r.b9)(s)}},46091:function(e,n,t){t.d(n,{N:function(){return P},s:function(){return E}});var r=t(71171),i=t.n(r),o=t(18172),a=t(91131),u=t(67294),c=t(95068),l=t(68963),s=t(80175),d=t(72676),p=t(78648),f=t(12727),h=t(12771),v=t(8357),g=t(63848),m=t(66421),w=t(11731),y=t(54992),x=t(88055),Z=(0,a.cn)(null,(function(e,n,t){var r=e(f.CK),i=t.pageX,o=t.pageY,a=t.over,u=e((0,f.z)(a)),c={x:i-r.x,y:o-r.y},l=(0,p.QN)(c,e(u.rectAtom)),s=l.rect,d=l.placement,h=e(f.M0);"above"!==d&&"below"!==d?(n(w.c,!0),n(g.m,{type:"dropPreview",rect:{x:s.x,y:s.y-h,width:s.width,height:s.height+h}})):n(g.m,{type:"dropPreview",rect:{x:s.x,y:s.y-h+("below"===d?h/2:0),width:s.width,height:s.height+h/2}})})),b=(0,a.cn)(null,(function(e,n,t){var r=e(f.CK),a=t.pageX,u=t.pageY,Z=t.over,b=e((0,f.z)(Z)),E={x:a-r.x,y:u-r.y},I=(0,p.QN)(E,e(b.rectAtom)).placement;n(g.m,null),n(w.c,!1);var P=e(c.g4);if("newPane"!==t.type){var k=Z;if(k===t.paneId){var T=(0,h.Rh)(P,t.paneId);if(!T){var U=new Error("Expected pane");throw n(m.xm,{error:U}),U}if(T.floating)throw new Error("Expected paneGroup");var C=T.paneGroup.panes.find((function(e){return e!==t.paneId}));if(!C)return;k=C}var G=(0,o.ZP)(P,(function(e){try{(0,s.i)(e,t.paneId),(0,l.m)(e,{id:i()(),panes:[t.paneId],relativeTo:k,placement:I})}catch(U){throw n(m.xm,{error:U}),U}}));n(d.iH,G)}else{var S=i()();n(v.v,{paneId:S,data:t.pane}),n(d.iH,(0,o.ZP)(P,(function(e){try{(0,l.m)(e,{id:i()(),panes:[S],relativeTo:b.paneId,placement:I})}catch(U){throw n(m.xm,{error:U}),U}})));var A=(0,y.b)(t.pane.type)?e(f.Eh).find((function(n){return e(n.data).type===t.pane.type&&n.paneId!==S})):null;A&&n(x.$,A.paneId)}}));function E(e){var n=e.isOver,t=(0,a.b9)(g.m);return(0,u.useEffect)((function(){n||t(null)}),[n,t]),{drag:(0,a.b9)(Z),drop:(0,a.b9)(b)}}var I=(0,a.cn)(null,(function(e,n){n(w.c,!1)}));function P(){return(0,a.b9)(I)}},88055:function(e,n,t){t.d(n,{$:function(){return f},U:function(){return h}});var r=t(91131),i=t(18172),o=t(80175),a=t(95068),u=t(57416),c=t(72676),l=t(12771),s=t(8357),d=t(66421),p=(0,r.cn)((function(e){var n,t=e(a.g4);return"paneGroup"===(null===(n=t.tiling)||void 0===n?void 0:n.type)&&1===t.tiling.panes.length})),f=(0,r.cn)(null,(function(e,n,t){var r=e(a.g4),s=t===e(u.J1)?(0,l.Rh)(r,t):null,p=null===s||void 0===s?void 0:s.paneGroup.panes.find((function(e){return e!==t})),f=(0,i.ZP)(r,(function(e){try{(0,o.i)(e,t)}catch(v){throw n(d.xm,{error:v}),v}}));if(n(c.iH,f),p){var h=(0,l.Rh)(f,p);if(!h){var v=new Error("Expected siblingPane");throw n(d.xm,{error:v}),v}var g=h.paneGroup.panes[h.paneGroup.activeIndex];g&&n(u.W1,g)}})),h=(0,r.cn)(null,(function(e,n,t){e(p)?n(s.v,{paneId:t,data:{type:"commands",data:{autoFocus:!1}}}):n(f,t)}))},35869:function(e,n,t){t.d(n,{Iu:function(){return l},Ob:function(){return a},Or:function(){return s},TL:function(){return i},ih:function(){return c},ko:function(){return d},rT:function(){return u}});var r=t(91131),i=(0,r.cn)({width:0,pane:{type:"filetree"}}),o=(0,r.cn)((function(e){return e(i).pane})),a=(0,r.cn)((function(e){return e(i).width})),u=220,c=180;function l(){return(0,r.Dv)(o)}function s(){return(0,r.Dv)(a)}var d=(0,r.cn)((function(e){return e(a)>0}))},87671:function(e,n,t){t.d(n,{Bd:function(){return y},CK:function(){return m},KQ:function(){return x},e3:function(){return v}});var r=t(71171),i=t.n(r),o=t(91131),a=t(18172),u=t(95068),c=t(12771),l=t(80175),s=t(72676),d=t(68963),p=t(12727),f=t(66421),h=(0,o.cn)((function(e){var n;return"split"===(null===(n=e(u.g4).tiling)||void 0===n?void 0:n.type)}));function v(){return(0,o.Dv)(h)}var g=(0,o.cn)(null,(function(e,n,t){var r=e(u.g4),i=(0,c.Rh)(r,t);if(!i){var o=new Error("Expected pane");throw n(f.xm,{error:o}),o}var d=(0,a.ZP)(r,(function(e){try{(0,l.Z)(e,i.paneGroupPath)}catch(o){throw n(f.xm,{error:o}),o}}));n(s.iH,d)}));function m(){return(0,o.b9)(g)}var w=(0,o.cn)(null,(function(e,n,t){var r=e(u.g4),o=(0,c.Rh)(r,t.paneId);if(!o){var l=new Error("Expected relativeToPane");throw n(f.xm,{error:l}),l}var h=i()(),v=e((0,p.z)(h));n(v.data,{type:"commands",data:{autoFocus:!1}});var g=(0,a.ZP)(r,(function(e){try{(0,d.m)(e,{id:i()(),isFloating:!1,placement:t.placement,relativeTo:o.paneGroupPath,panes:[h]})}catch(l){throw n(f.xm,{error:l}),l}}));n(s.iH,g)}));function y(){return(0,o.b9)(w)}var x=(0,o.cn)(null,(function(e,n,t){var r=e(u.g4),o=i()(),c=e((0,p.z)(o));n(c.data,t.pane);var l=(0,a.ZP)(r,(function(e){try{(0,d.m)(e,{id:i()(),isFloating:!1,placement:t.placement,relativeTo:t.relativeTo,panes:[o],percent:t.percent})}catch(r){throw n(f.xm,{error:r}),r}}));n(s.iH,l)}))},11731:function(e,n,t){t.d(n,{bg:function(){return G},Et:function(){return U},Bm:function(){return k},_N:function(){return P},c:function(){return S},a4:function(){return _},SG:function(){return C},ao:function(){return T},im:function(){return E},Ky:function(){return I},Oe:function(){return b}});var r=t(65456),i=t(71171),o=t.n(i),a=t(18172),u=t(91131),c=t(68963),l=t(12771);var s=t(95068),d=t(57416),p=t(12727),f=t(80175),h=t(15961),v=t(8357),g=t(63035),m=t(54992),w=t(72676),y=t(87671),x=t(66421),Z=t(88055),b=(0,u.cn)(null,(function(e,n,t){var r=e(s.g4),i=(0,l.Rh)(r,t);if(!i){var o=new Error("Expected selectedPane");throw n(x.xm,{error:o}),o}var u=(0,p.Xs)(i.paneGroup.id);n(u,(function(e){return(0,a.ZP)(e,(function(e){e.activeIndex=i.index}))}));var c=!0,f=!1,h=void 0;try{for(var v,g=i.paneGroup.panes[Symbol.iterator]();!(c=(v=g.next()).done);c=!0){var m=v.value,w=(0,p.z)(m);n(w,(function(e){return(0,a.ZP)(e,(function(e){e.isHidden=e.paneId!==t}))}))}}catch(y){f=!0,h=y}finally{try{c||null==g.return||g.return()}finally{if(f)throw h}}n(s.g4,(0,a.ZP)(r,(function(e){try{!function(e,n){var t=(0,l.Rh)(e,n);if(!(null===t||void 0===t?void 0:t.paneGroup))throw new Error("Expected pane group");var r=t.paneGroup,i=r.panes.indexOf(n);if(-1===i)throw new Error("Expected index");r.activeIndex=i}(e,t)}catch(o){throw n(x.xm,{error:o}),o}}))),n(d.W1,t)})),E=(0,u.cn)(null,(function(e,n){var t=e(g.XD);n(I,{type:t})})),I=(0,u.cn)(null,(function(e,n,t){var r,i=e(p.Eh).find((function(n){return e(n.data).type===t.type}));if(i)n(b,i.paneId);else{var o=e(s.g4),a=(0,l._F)(o,"topRight");if(a)"paneGroup"===(null===(r=o.tiling)||void 0===r?void 0:r.type)?n(y.KQ,{pane:t,relativeTo:a.path,placement:"rightOf"}):n(U,{pane:t,paneGroupPath:a.path});else n(y.KQ,{pane:t,relativeTo:["tiling"],placement:"replace"})}})),P=(0,u.cn)(null,(function(e,n,t){var r=e(p.Eh).find((function(n){return e(n.data).type===t}));if(r)n(b,r.paneId);else{var i=e(s.g4),o=(0,l._F)(i,"topRight");if(o&&i.tiling)if("paneGroup"!==i.tiling.type)if("split"!==i.tiling.type||2!==i.tiling.children.length||"paneGroup"!==i.tiling.children[1].type)n(U,{pane:{type:t},paneGroupPath:o.path});else{var a=i.tiling.stacked;n(h.g2,{pane:{type:t},placement:a?"rightOf":"above",relativeTo:o.path,makeActive:!1})}else n(y.KQ,{pane:{type:t},relativeTo:["tiling"],placement:"rightOf"});else n(y.KQ,{pane:{type:t},relativeTo:["tiling"],placement:"replace"})}})),k=(0,u.cn)(null,(function(e,n){var t=e(p.Eh).find((function(n){return"threadInbox"===e(n.data).type}));if(t)n(b,t.paneId);else{var r=e(s.g4),i=(0,l._F)(r,"bottomRight");i&&r.tiling?"paneGroup"!==r.tiling.type?n(U,{pane:{type:"threadInbox"},paneGroupPath:i.path}):n(y.KQ,{pane:{type:"threadInbox"},relativeTo:["tiling"],placement:"rightOf"}):n(y.KQ,{pane:{type:"threadInbox"},relativeTo:["tiling"],placement:"replace"})}})),T=(0,u.cn)(null,(function(e,n,t){var r=e(p.Eh).find((function(n){return e(n.data).type===t.type}));if(r){var i=e(s.g4),o=(0,a.ZP)(i,(function(e){try{(0,f.i)(e,r.paneId)}catch(t){throw n(x.xm,{error:t}),t}}));n(w.iH,o)}})),U=(0,u.cn)(null,(function(e,n,t){var r=e(s.g4),i=o()(),u=(0,a.ZP)(r,(function(e){try{(0,c.T)(e,{paneId:i,activate:t.activate,paneGroupPath:t.paneGroupPath,index:t.index})}catch(r){throw n(x.xm,{error:r}),r}}));n(w.iH,u);var l=e((0,p.z)(i));n(l.data,t.pane);var f=(0,m.b)(t.pane.type)?e(p.Eh).find((function(n){return e(n.data).type===t.pane.type&&n.paneId!==i})):null;f&&n(Z.$,f.paneId),t.activate&&n(d.W1,i)})),C=(0,u.cn)(null,(function(e,n,t){var r=e(s.g4),i=(0,a.ZP)(r,(function(e){var r=(0,l.Rh)(e,t.paneId);if(!r){var i=new Error("Expected pane");throw n(x.xm,{error:i}),i}var a=(0,l.KC)(e,t.toPaneGroupPath);if(!a||"split"===a.type){var u=new Error("Expected toPaneGroup");throw n(x.xm,{error:u}),u}var s=1===r.paneGroup.panes.length,d=!a.panes.includes(t.paneId);if(!s||d){if(s&&d&&"paneGroup"===r.paneGroup.type)try{(0,c.T)(e,{paneId:o()(),activate:!1,paneGroupPath:r.paneGroupPath})}catch(p){throw n(x.xm,{error:p}),p}try{(0,f.i)(e,t.paneId),(0,c.T)(e,{paneId:t.paneId,paneGroupPath:t.toPaneGroupPath,index:t.index})}catch(h){throw n(x.xm,{error:h}),h}}}));n(w.iH,i)})),G=((0,u.cn)(null,(function(e,n,t){var r=e(s.g4),i=(0,a.ZP)(r,(function(e){var r=(0,l.Rh)(e,t.paneToReplace);if(!r){var i=new Error("Expected paneToReplace");throw n(x.xm,{error:i}),i}var o=r.index===r.paneGroup.activeIndex;try{(0,c.T)(e,{paneGroupPath:r.paneGroupPath,paneId:t.paneId,index:r.index,activate:o}),(0,f.i)(e,t.paneToReplace)}catch(a){throw n(x.xm,{error:a}),a}}));n(w.iH,i)})),(0,u.cn)((function(e){return e(p.Eh).some((function(n){return"markdown"===e(n.data).type}))}))),S=(0,u.cn)(!1),A=(0,u.cn)(null,(function(e,n,t){var r=e(s.S6).map((function(n){return{paneId:n.paneId,path:(0,m.DQ)(e(n.data))}})).filter((function(e){return t===e.path})),i=[],o=e(s.g4),u=(0,a.ZP)(o,(function(e){var t=!0,o=!1,a=void 0;try{for(var u,c=r[Symbol.iterator]();!(t=(u=c.next()).done);t=!0){var s=u.value.paneId,d=(0,l.Rh)(e,s);if(!d){var p=new Error("Expected pane");throw n(x.xm,{error:p}),p}!d.floating&&1===d.paneGroup.panes.length?i.push(s):(0,f.i)(e,s)}}catch(h){o=!0,a=h}finally{try{t||null==c.return||c.return()}finally{if(o)throw a}}})),c=!0,d=!1,p=void 0;try{for(var h,g=i[Symbol.iterator]();!(c=(h=g.next()).done);c=!0){var y=h.value;n(v.v,{paneId:y,data:{type:"commands",data:{autoFocus:!1}}})}}catch(T){d=!0,p=T}finally{try{c||null==g.return||g.return()}finally{if(d)throw p}}var Z=!0,b=!1,E=void 0;try{for(var I,P=r[Symbol.iterator]();!(Z=(I=P.next()).done);Z=!0){var k=I.value;k.path&&n(s.jM,k.path)}}catch(T){b=!0,E=T}finally{try{Z||null==P.return||P.return()}finally{if(b)throw E}}n(w.iH,u)})),_=(0,u.cn)(null,(function(e,n,t){var i=t.node.path;if(t.eventType!==r.kS.Delete){var o=e(s.S6).filter((function(n){return(0,m.DQ)(e(n.data))===i})),a={type:(0,m.Dp)({path:t.to}),data:{path:t.to}},u=!0,c=!1,l=void 0;try{for(var d,p=o[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value.paneId;n(v.v,{paneId:f,data:a})}}catch(h){c=!0,l=h}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}n(s.MI,{from:i,to:t.to})}else n(A,i)}))},14868:function(e,n,t){t.d(n,{I0:function(){return u},Iv:function(){return l},W8:function(){return d}});var r=t(91131),i=t(95068),o=t(72676),a=t(35869),u=(0,r.cn)(null,(function(e,n){0!==e(a.TL).width&&(n(a.TL,(function(e){return{pane:e.pane,width:0}})),n(o.iH,e(i.g4)))})),c=(0,r.cn)(null,(function(e,n){var t=e(a.TL).width>0?0:a.rT;n(a.TL,(function(e){return{pane:e.pane,width:t}})),n(o.iH,e(i.g4))}));function l(){return(0,r.b9)(c)}var s=(0,r.cn)((function(e){return e(a.TL).width>0}));function d(){return(0,r.Dv)(s)}},92162:function(e,n,t){t.d(n,{$x:function(){return x},Un:function(){return Z},gQ:function(){return g},yR:function(){return m}});var r=t(91131),i=t(47875),o=t(50146),a=t(15961),u=t(29780),c=t(11731),l=t(14868),s=t(12727),d=(0,r.cn)(null),p=(0,r.cn)((function(e){var n=e(d);return n&&e(s.Eh).find((function(t){var r=e(t.data);return"videoPlayer"===r.type&&r.data.embedUrl===(null===n||void 0===n?void 0:n.embedUrl)}))||null})),f=(0,r.cn)((function(e){var n=e(p);return n&&!n.isHidden?n:null})),h=(0,r.cn)(null,(function(e,n,t){n(d,t);var r="videoPlayer";t?n(o.WM,{type:r,data:{title:"Tutorial",embedUrl:t.embedUrl}}):n(o.AW,r)})),v=(0,r.cn)(null,(function(e,n){var t=e(p);if(null===t||void 0===t?void 0:t.isHidden)n(c.Oe,t.paneId);else{var r=e(d);r&&n(h,r)}}));function g(){return(0,r.b9)(h)}function m(){var e=(0,r.Dv)(d),n=(0,r.Dv)(f),t=(0,r.b9)(v);return n||!e?null:t}var w=(0,r.cn)((function(e){return e(s.Eh).find((function(n){return"tutorial"===e(n.data).type}))||null})),y=(0,r.cn)(null,(function(e,n){if(e(i.H).flagLayoutNavigator){var t=e(w);(null===t||void 0===t?void 0:t.isHidden)?n(c.Oe,t.paneId):(n(a.g2,{pane:{type:"tutorial"},placement:"leftOf",percent:25,relativeTo:["tiling"],makeActive:!1}),n(l.I0))}else n(u.Wp,{type:"tutorial",percent:25})}));function x(){return(0,r.b9)(y)}function Z(){return(0,s.z2)("tutorial")}},8357:function(e,n,t){t.d(n,{D:function(){return u},v:function(){return a}});var r=t(91131),i=t(57416),o=t(12727),a=(0,r.cn)(null,(function(e,n,t){n(e((0,o.z)(t.paneId)).data,t.data),t.makeActive&&n(i.W1,t.paneId)}));function u(){return(0,r.b9)(a)}},78648:function(e,n,t){t.d(n,{QN:function(){return o},V0:function(){return i},XR:function(){return a},xH:function(){return u}});var r=t(26042);function i(e,n){var t=e.x,r=e.y;return t>n.x&&t<n.x+n.width&&r>n.y&&r<n.y+n.height}function o(e,n){var t=function(e){var n=e.rect,t=e.point,r=n.height>n.width?n.width/n.height:1,i=n.width>n.height?n.height/n.width:1,o=(t.x-n.x)*i,a=(n.x+n.width-t.x)*i,u=(t.y-n.y)*r,c=(n.y+n.height-t.y)*r,l=Math.min(o,a,u,c);return l===o?"left":l===a?"right":l===u?"top":"bottom"}({point:e,rect:n}),r={x:n.x,y:n.y,width:n.width,height:n.height},i="below";return"top"===t?(r.height=n.height/2,i="above"):"bottom"===t?(r.height=n.height/2,r.y=n.y+n.height/2,i="below"):"left"===t?(r.width=n.width/2,r.x=n.x,i="leftOf"):"right"===t&&(r.width=n.width/2,r.x=n.x+n.width/2,i="rightOf"),{placement:i,rect:r}}function a(e,n){var t=n.edge,i=n.delta,o=(0,r.Z)({},e);return!function(e){return"top"===e||"topLeft"===e||"topRight"===e}(t)?function(e){return"bottom"===e||"bottomLeft"===e||"bottomRight"===e}(t)&&(o.height=e.height+i.y):(o.height=e.height-i.y,o.y=e.y+i.y),!function(e){return"right"===e||"bottomRight"===e||"topRight"===e}(t)?function(e){return"left"===e||"bottomLeft"===e||"topLeft"===e}(t)&&(o.width=e.width-i.x,o.x=e.x+i.x):o.width=e.width+i.x,o}function u(e){return"handle:"+e.leftPath.join(":")}},83261:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(10253),i=t(67294),o={isConnecting:!0,channel:null,error:null,context:null};function a(e){var n=e.container,t=e.service,a=e.name,u=e.skip,c=void 0!==u&&u,l=(0,r.Z)(i.useState(o),2),s=l[0],d=l[1];return i.useEffect((function(){d(o);var e=!1,r=n.openChannel({service:t,name:a,skip:function(){return c}},(function(n){if(!e){if(!n.error)return d({context:n.context,channel:n.channel,error:null,isConnecting:!1}),function(n){e||d({isConnecting:n.willReconnect,channel:null,error:null,context:null})};d({context:n.context,channel:null,error:n.error,isConnecting:!1})}}));return function(){e=!0,r()}}),[n,t,a,c]),s}},83971:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(47568),i=t(10253),o=t(34051),a=t.n(o),u=t(67294),c=t(83261),l=t(16965);function s(e){var n=(0,c.Z)({container:e,service:"exec"}).channel,t=(0,u.useRef)(!1),o=(0,u.useRef)([]),s=(0,l.Z)((0,r.Z)(a().mark((function e(){var r,u,c,l,d,p,f,h,v,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.current){e.next=2;break}return e.abrupt("return");case 2:if(o.current.length){e.next=4;break}return e.abrupt("return");case 4:if("open"===(null===n||void 0===n?void 0:n.status)){e.next=6;break}return e.abrupt("return");case 6:if(r=o.current.pop()){e.next=9;break}throw new Error("Expected request");case 9:return u=(0,i.Z)(r,2),c=u[0],l=c.args,d=c.env,p=u[1],f="",h=n.onCommand((function(e){e.output&&(f+=e.output)})),t.current=!0,e.next=15,n.request({exec:{args:l,env:d}});case 15:v=e.sent,t.current=!1,h(),g=v.channelClosed?"Channel closed":v.error,p(g?{error:g,output:f||null}:{output:f,error:null}),s.current();case 21:case"end":return e.stop()}}),e)})))),d=null===n||void 0===n?void 0:n.status;return(0,u.useEffect)((function(){"open"===d&&s.current()}),[d,s]),(0,u.useCallback)((function(e){var n=e.args,t=e.env;return new Promise((function(e){o.current.push([{args:n,env:t},e]),s.current()}))}),[s])}},65977:function(e,n,t){t.d(n,{O:function(){return s}});var r=t(10253),i=t(67294),o=t(25497),a=t(81700),u=t.n(a),c=t(6625),l=t(99408),s=function(){var e=(0,l.Z)().dotReplit,n=(0,c.Z)(),t=(0,r.Z)(i.useState(null),2),a=t[0],s=t[1];return i.useEffect((function(){return e.watch((function(e){n.current&&(e.error?e.error===o.Yt.NotFound&&s([]):e.config.hidden?s(e.config.hidden.map((function(e){return u()(e,{extended:!0,globstar:!0})}))):s([]))}))}),[e]),a}},40381:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(91131),i=t(95068),o=t(63805),a=t(10253),u=t(67294),c=t(99408),l=t(6625);function s(){var e=function(){var e=(0,c.Z)().session,n=(0,a.Z)(u.useState(e.getState()),2),t=n[0],r=n[1],i=(0,l.Z)();return u.useEffect((function(){return r(e.getState()),e.onSessionStateChanged((function(e){i.current&&r(e)}))}),[e,i]),t}(),n=e.openFiles,t=e.activeTab,s=(0,r.Dv)(i.QP);return(0,o.isMobile)()?n[t]||null:s}},25741:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(10253),i=t(67294),o=t(99408);function a(){var e=(0,o.Z)().session,n=(0,r.Z)(i.useState(e.getAreHiddenFilesVisible()),2),t=n[0],a=n[1];return i.useEffect((function(){return a(e.getAreHiddenFilesVisible()),e.onHiddenFileVisibilityToggled(a)}),[e]),t}},2146:function(e,n,t){t.d(n,{o:function(){return o}});var r=t(10253),i=t(78597);function o(e){var n,t=(0,i.Pp)({variables:{tours:e}}),o=t.data,a=t.loading,u=(0,r.Z)((0,i.oe)({variables:{name:e},optimisticResponse:{markTourAsSeen:{__typename:"TourSeen",id:e,seen:!0}}}),1)[0];return{isLoading:a,isDone:Boolean(null===o||void 0===o||null===(n=o.currentUser)||void 0===n?void 0:n.toursSeen[0].seen),setAsDone:u}}},91550:function(e,n,t){t.d(n,{i:function(){return g},q:function(){return h}});var r=t(47568),i=t(34051),o=t.n(i),a=t(35944),u=(t(67294),t(3218)),c=t(24888),l=t(88961),s=t(39715),d=t(63736),p=t(15085),f=t(58794),h={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"P"};function v(){return(0,a.BX)(p.G7,{css:[p.l0.rowWithGap(8)],children:[(0,a.tZ)(l.Z,{}),(0,a.tZ)(p.xv,{color:"dimmest",children:"Something went wrong searching your Repl's files. Please try again."})]})}function g(e){return(0,s.fA)({type:"context",label:"Files",description:"Find a file",icon:(0,a.tZ)(c.Z,{}),keyboardShortcut:h,maxResults:50},{match:(0,s.zf)({defaultScore:3}),commands:function(){var n=(0,r.Z)(o().mark((function n(t){var i,c,p,h,g,m,w,y;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.fs,c=e.shouldHideFile,(p=t.search?t.search.toLowerCase():void 0)||t.active&&!e.lazyLoad){n.next=4;break}return n.abrupt("return",[]);case 4:return n.next=6,e.getRecentFiles();case 6:if(h=n.sent,g=new Set(h),!p&&!t.active){n.next=17;break}return n.next=11,i.listFiles();case 11:if(!(m=n.sent).error){n.next=14;break}return n.abrupt("return",[{data:{type:"error",label:m.error,icon:(0,a.tZ)(l.Z,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(v,{})}}}}]);case 14:if(m.files){n.next=16;break}throw new Error("Expected files");case 16:m.files.forEach((function(e){g.has(e)||g.add(e)}));case 17:return w=[],g.forEach((function(e){if(!c(e)){var n=h.includes(e),t={type:"openFile",label:e,icon:(0,a.tZ)(d.Z,{path:e}),deeplink:{path:e}};if(p){var r=u.Z.match(p,e);r&&w.push((0,s.fA)(t,{match:function(){return{score:n?2*r.score:r.score,render:{ranges:r.ranges}}}}))}else w.push((0,s.fA)(t,{match:function(){return{score:1}}}))}})),0===w.length&&t.active&&(y=t.search,w.push({data:{label:y,description:"Create a new file",icon:(0,a.tZ)(d.Z,{path:y}),type:"action",run:(0,r.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.writeFile(y,f.Z.from(""));case 2:e.openFile({path:y});case 3:case"end":return n.stop()}}),n)})))},match:function(){return{score:1}}})),n.abrupt("return",w);case 21:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})}},39715:function(e,n,t){t.d(n,{fA:function(){return i},pl:function(){return a},zf:function(){return o}});var r=t(3218);function i(e,n){var t=n.commands;return{data:e,match:n.match,commands:t}}function o(e){var n=e.defaultScore,t=void 0===n?1:n;return function(e){var n=e.search,i=e.data,o=e.active;if(!n&&o)return{score:t};var a=r.Z.match(n,i.label);return a?{score:a.score,render:{ranges:a.ranges}}:null}}var a=o({defaultScore:1})},5257:function(e,n,t){t.d(n,{Z:function(){return h},k:function(){return d}});var r=t(26042),i=t(69396),o=t(67294),a=t(96594),u=t(24351),c=t(16965),l=t(29815);var s=t(10253);function d(e){var n,t=e.path.map((function(e){return e.data.label}));return(null===(n=e.match)||void 0===n?void 0:n.key)&&t.push(e.match.key),t.join(":")}function p(e,n){return n.match.score-e.match.score}function f(e){var n=e.current,t=e.updates,r=e.insertSectionHeaders,i=t.items.sort(p),o=t.path[t.path.length-1];o.data.maxResults&&(i=i.slice(0,o.data.maxResults+1));var a=o.data.description||n.placeholder;if(r){var u=function(e){var n=new Map;e.forEach((function(e){var t=function(e){return e.path.slice(1,-1).map((function(e){return e.data.label})).join(" > ")}(e),r=n.get(t);r?r.items.push(e):n.set(t,{score:e.match.score,items:[e]})}));var t=(0,l.Z)(n.entries()).sort((function(e,n){var t=(0,s.Z)(e,2)[1];return(0,s.Z)(n,2)[1].score-t.score})),r={items:[],itemsWithSections:[]},i=0;return t.forEach((function(e){var n=(0,s.Z)(e,2),t=n[0],o=n[1];r.itemsWithSections.push({isSection:!0,name:t}),o.items.forEach((function(e){r.items.push(e),r.itemsWithSections.push({item:e,index:i++})}))})),r}(i);return{items:u.items,itemsWithSections:u.itemsWithSections,isLoading:Boolean(t.partial),path:t.path,placeholder:a}}return{items:i,isLoading:Boolean(t.partial),path:t.path,placeholder:a}}function h(e){var n,t=function(e){var n,t=e.index,r=e.focus;w.setPath(I.slice(0,t+1)),r&&(null===(n=d.current)||void 0===n||n.focus())},s=(0,c.Z)(e.onSelect),d=(0,o.useRef)(null),p=(0,o.useState)(""),h=p[0],v=p[1],g=(0,c.Z)(e.insertSectionHeaders),m=(0,o.useState)((function(){return function(e){var n=e.initialPath,t=e.partialUpdateTimeout,r=e.onUpdate,i=function(e){a&&clearTimeout(a);var n=++u,i=0,c=[],s=o[o.length-1];s.commands?(void 0!==t&&(a=setTimeout((function(){c.length&&r({items:c,partial:!0,path:o})}),t)),function t(s,d){if(i++,!s.commands)throw new Error("Expected commands");var p=(0,l.Z)(d).concat([s]),f=p.length===o.length;Promise.resolve(s.commands({active:f,search:e,path:p})).then((function(s){n===u?(i--,s.forEach((function(n){var r=(0,l.Z)(p).concat([n]),i=n.match?n.match({search:e,data:n.data,path:r,active:f}):null;i&&c.push({path:r,data:n.data,match:i}),n.commands&&t(n,p)})),i>0||(a&&clearTimeout(a),r({items:c,path:o}))):a&&clearTimeout(a)}))}(s,o.slice(0,o.length-1))):r({items:c,path:o})},o=n,a=null,u=0;return{search:i,setPath:function(e){o=e,i(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")},getPath:function(){return o}}}({initialPath:Array.isArray(e.initialCommand)?e.initialCommand:[e.initialCommand],partialUpdateTimeout:100,onUpdate:function(e){k((function(n){return f({current:n,updates:e,insertSectionHeaders:g.current})}))}})})),w=m[0];(0,o.useEffect)((function(){w.setPath(Array.isArray(e.initialCommand)?e.initialCommand:[e.initialCommand])}),[e.initialCommand,w]);var y=(0,o.useState)((function(){var e,n=w.getPath();return{path:n,items:[],itemsWithSections:[],isLoading:!1,placeholder:(null===(e=n[n.length-1])||void 0===e?void 0:e.data.description)||""}})),x=y[0],Z=x.items,b=x.itemsWithSections,E=x.placeholder,I=x.path,P=x.isLoading,k=y[1],T=(0,u.Z)(h,100);(0,o.useEffect)((function(){k((function(e){return(0,i.Z)((0,r.Z)({},e),{isLoading:!0})})),w.search(T)}),[w,T]);var U=Boolean(h||I.length>1),C=(0,a.Kb)({inputValue:h,items:Z,itemToString:function(e){return e?e.data.label:""},initialHighlightedIndex:U?0:-1,defaultHighlightedIndex:U?0:-1}),G=C.selectedItem;return(0,o.useEffect)((function(){if(G)return"context"===G.data.type?(w.setPath(G.path),void v("")):void s.current(G)}),[w,G,s]),{keyboardShortcut:null===(n=I[0])||void 0===n?void 0:n.data.keyboardShortcut,resetToIndex:t,handleBackspace:function(){h.length||1!==I.length&&t({index:I.length-2})},handleLeftRightArrow:function(e){if(C.highlightedIndex>-1){var n="previous"===("ArrowLeft"===e?"previous":"next")?Z[C.highlightedIndex-1]?C.highlightedIndex-1:0===C.highlightedIndex&&Z.length?Z.length-1:null:Z[C.highlightedIndex+1]?C.highlightedIndex+1:Z[0]?0:null;null!==n&&C.setHighlightedIndex(n)}},combobox:C,inputValue:h,setInputValue:v,items:Z,itemsWithSections:b,placeholder:E,path:I,isLoading:P,inputRef:d}}},96199:function(e,n,t){t.d(n,{Z:function(){return _e}});var r,i=t(47568),o=t(10253),a=t(34051),u=t.n(a),c=t(35944),l=t(67294),s=t(65456),d=t(31066),p=t(99408),f=t(30019),h=t(30243),v=t(92098),g=t(29815),m=t(58794),w=t(82378),y=t(32703);function x(){return x=(0,i.Z)(u().mark((function e(n){var t,o,a,c,l,s,d,p,f,h,v,x;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.parentPath,o=n.overwrite,a=n.fs,c=n.files,l=n.shouldUseFileTransferAPI,s=n.onStart,d=n.onUpload,p=n.onError,f=n.onDone,h=function(){var e=(0,i.Z)(u().mark((function e(n){var t,i,c,s,f,h,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.targetPath,i=n.file,c=n.progress,o){e.next=9;break}return e.next=4,a.stat(t);case 4:if(!e.sent.exists){e.next=9;break}return s={file:i,path:t,error:r.AlreadyExists},p(s),e.abrupt("return",s);case 9:return f=null,e.prev=10,e.next=13,(0,y.pV)(i);case 13:f=e.sent,e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(10),h={file:i,path:t,error:r.FileRead},p(h),e.abrupt("return",h);case 21:if(v=m.Z.from(f),!l){e.next=27;break}return e.next=25,a.transferFile(t,v,(function(e,n){c.current=n/e}));case 25:e.next=29;break;case 27:return e.next=29,a.writeFile(t,v);case 29:return d({file:i,path:t}),e.abrupt("return",{path:t,file:i});case 31:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(n){return e.apply(this,arguments)}}(),v=c.map((function(e){var n=e.path||e.webkitRelativePath||e.name;return{targetPath:t?t+"/"+n:n,progress:(0,w.u)(0),file:e}})),s(v),e.next=6,Promise.all(v.map(h));case 6:x=e.sent,f({parentPath:t,uploads:x.filter((function(e){return!("error"in e)})),errors:x.reduce((function(e,n){return"error"in n?(0,g.Z)(e).concat([n]):e}),[])});case 8:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function Z(e){var n=e.fs,t=e.onDone,r=(0,o.Z)(l.useState([]),2),i=r[0],a=r[1],u=l.useRef(t);l.useEffect((function(){u.current=t}),[t]);var c=l.useCallback((function(e){var t=e.parentPath,r=e.files;!function(e){x.apply(this,arguments)}({overwrite:e.overwrite,parentPath:t,files:r.filter(Boolean),fs:n,shouldUseFileTransferAPI:!0,onStart:function(e){return a((function(n){return(0,g.Z)(n).concat((0,g.Z)(e))}))},onUpload:function(e){a((function(n){return n.filter((function(n){return n.targetPath!==e.path}))}))},onError:function(e){a((function(n){return n.filter((function(n){return n.targetPath!==e.path}))}))},onDone:function(e){u.current&&u.current(e)}})}),[n,a]);return{uploadFiles:c,pendingUploads:i}}!function(e){e.AlreadyExists="ALREADY_EXIST",e.FileRead="FILE_READ",e.Network="NETWORK"}(r||(r={}));var b=t(60536),E=t.n(b),I=t(69453),P=t(38935),k=t(25741),T=t(63377),U=t(46609),C=t(63805),G=t(15902),S=t(11163),A=t(15961);function _(e){var n=e.onDownloadZip,t=e.readOnly,r=void 0!==t&&t,i=(0,U.y)().uploadFiles,o=l.useRef(null),a=l.useRef(null),u=(0,k.Z)(),d=(0,A.BN)(),f=(0,T.Z)(),h=(0,p.Z)().session,v=(0,S.useRouter)(),g=l.useMemo((function(){if("undefined"===typeof document)return[];if(r)return[u?P.s.HideHiddenFiles:P.s.ShowHiddenFiles];var e=document.createElement("input"),n="webkitdirectory"in e||"mozdirectory"in e||"msdirectory"in e||"odirectory"in e||"directory"in e,t=[P.s.UploadFile];return(0,C.isMobile)()||t.push(P.s.OpenPane),n&&!(0,C.isMobile)({tablet:!1})&&t.push(P.s.UploadFolder),(0,G.V)(v)||t.push(P.s.DownloadZip),t.push(u?P.s.HideHiddenFiles:P.s.ShowHiddenFiles),t}),[u,r,v]);return(0,c.BX)(c.HY,{children:[(0,c.tZ)("input",{ref:o,type:"file",onChange:function(e){var n=e.target.files;n&&i({files:Array.from(n)})},onClick:function(e){e.currentTarget.value=""},multiple:!0,accept:"*",className:"jsx-2ff4f6cb1b2dc3a5"}),(0,c.tZ)("input",{ref:a,type:"file",onChange:function(e){var n=e.target.files;n&&i({files:Array.from(n)})},onClick:function(e){e.currentTarget.value=""},webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*",className:"jsx-2ff4f6cb1b2dc3a5"}),(0,c.tZ)(P.Z,{actions:g,onAction:function(e){switch(e){case P.s.OpenPane:return void d({pane:{type:"commands",data:{autoFocus:!0}},edge:"left"});case P.s.UploadFile:if(!o.current)return;return o.current.click(),void(0,I.Z)({replId:f,action:"uploaded",fileType:s.Tv.File});case P.s.UploadFolder:if(!a.current)return;return a.current.click(),void(0,I.Z)({replId:f,action:"uploaded",fileType:s.Tv.Directory});case P.s.DownloadZip:return n(),void(0,I.Z)({replId:f,action:"zipDownloaded"});case P.s.ShowHiddenFiles:return void h.setAreHiddenFilesVisible(!0);case P.s.HideHiddenFiles:h.setAreHiddenFilesVisible(!1)}}}),(0,c.tZ)(E(),{id:"2ff4f6cb1b2dc3a5",children:"input.jsx-2ff4f6cb1b2dc3a5{display:none}"})]})}var R=t(15912),B=t(1879),D=t(73842),F=t(93058),O=t(29163),H=t(86851),N=t(9252),L=t(40381),W=t(81470),M=t(43804),X=t(34385),j=t(48551),K=t(26042),z=t(69396);var V=/\(copy\)( \d+)?$/,Y=/\d+$/;function Q(e,n){for(var t=(0,j.r6)(e),r=(0,j.eb)(e),i=V.test(r)?e:"".concat(r," (copy)").concat(t.length>0?".".concat(t):""),o=1;o<=n.size;o++){if(!n.has(i))return i;var a=(0,j.eb)(i),u=a.split(" ");Y.test(a)&&u.pop(),i="".concat(u.join(" ")," ").concat(o),t.length>0&&(i+=".".concat(t))}return i}var $=t(15085),q=t(74591),J=t(70917),ee=t(69346),ne=t(67629),te=t(87653),re=t(5257),ie=t(42456),oe=t(91550),ae=t(77365),ue=t(63736),ce=t(89075),le=t(3032),se=(0,J.iv)([$.l0.position.relative,$.l0.flex.row,$.l0.align.center,$.l0.pl(8),$.gU.filled,{":focus-within":{borderColor:$.TV.outlineDefault}}]),de=(0,J.iv)([$.l0.position.absolute,$.l0.top(0),$.l0.left(0),$.l0.height("100%"),$.l0.center,{paddingLeft:6,pointerEvents:"none"}]),pe=(0,J.iv)([$.l0.flex.growAndShrink(1),$.l0.p(8),$.l0.color.foregroundDefault,{paddingLeft:26,fontSize:$.TV.fontSizeDefault,outline:"0 none",backgroundColor:"transparent",borderColor:"transparent"}]),fe=(0,J.iv)([$.l0.reset.button,$.l0.p(4),$.l0.color.foregroundDimmest,$.l0.cursor.pointer,{"&:hover":$.l0.color.foregroundDefault}]),he=(0,J.iv)([$.l0.left(0),$.l0.width("100%"),$.l0.overflowY("auto"),$.l0.position.absolute,{top:44,height:"calc(100% - 44px)",zIndex:1}]),ve=ee.K.div,ge=ee.K.input;function me(){var e=(0,p.Z)(),n=e.fs,t=e.session,r=(0,ie.A)(),i=(0,le.C)(),o=(0,ce.X_)(),a=(0,l.useMemo)((function(){return(0,oe.i)({openFile:i,fs:n,shouldHideFile:o,getRecentFiles:r,lazyLoad:!0})}),[n,r,o,i]),u=(0,re.Z)({insertSectionHeaders:!0,onSelect:function(e){if("openFile"===e.data.type)return t.openFile(e.data.deeplink.path),void u.setInputValue("")},initialCommand:a});return(0,c.BX)(c.HY,{children:[(0,c.BX)(ve,(0,z.Z)((0,K.Z)({},u.combobox.getComboboxProps()),{css:se,children:[(0,c.tZ)(ee.Z,{css:de,children:u.isLoading?(0,c.tZ)(ae.Z,{}):(0,c.tZ)(te.Z,{color:$.TV.foregroundDimmest})}),(0,c.tZ)(ge,(0,K.Z)({css:[pe]},u.combobox.getInputProps({value:u.inputValue,ref:u.inputRef,onChange:function(e){u.setInputValue(e.currentTarget.value)},onKeyDown:function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key?"Backspace"!==e.key||e.currentTarget.value?"Escape"===e.key&&e.currentTarget.blur():u.resetToIndex({index:0}):u.handleLeftRightArrow(e.key)},onFocus:function(){u.combobox.isOpen||u.combobox.openMenu()},placeholder:u.placeholder}))),u.inputValue.length>0?(0,c.tZ)(ee.Z,{css:fe,tag:"button",children:(0,c.tZ)(ne.Z,{onClick:function(){return u.setInputValue("")}})}):null]})),(0,c.tZ)(ee.Z,(0,z.Z)((0,K.Z)({style:{display:u.inputValue?void 0:"none"},css:he},u.combobox.getMenuProps({refKey:"innerRef"})),{children:u.inputValue?(0,c.tZ)(Pe,{items:u.items||[],getItemProps:u.combobox.getItemProps,highlightedIndex:u.combobox.highlightedIndex,isLoading:u.isLoading}):null}))]})}var we=(0,l.memo)(me);function ye(e){var n=e.path,t=e.type,r=(0,j.UO)(n),i=(0,j.Il)(n);return"openFile"!==t||r.length===n.length?(0,c.tZ)(c.HY,{children:n}):(0,c.BX)(ee.Z,{css:[$.l0.height(40),$.l0.justify.center],children:[(0,c.tZ)($.xv,{variant:"small",color:"dimmest",children:i}),(0,c.tZ)($.xv,{children:r})]})}var xe=(0,J.iv)([$.l0.px(8),$.l0.flex.growAndShrink(1)]),Ze=(0,J.iv)([$.l0.px(4),$.l0.minHeight(32),$.l0.borderRadius(4),$.l0.rowWithGap(8),$.l0.align.center,$.l0.cursor.pointer]),be=(0,J.iv)([$.l0.width(24),$.l0.height(24),$.l0.center]),Ee=(0,J.iv)($.l0.flex.growAndShrink(1));function Ie(e){var n=(0,l.useRef)(e.items);if(!(e.items!==n.current))return null;var t=e.items.filter((function(e){return"openFile"===e.data.type})).slice(0,100);return(0,c.BX)($.Tg,{css:xe,children:[t.map((function(n,t){var r=t===e.highlightedIndex;return(0,c.BX)($.Tg,(0,z.Z)((0,K.Z)({css:Ze,elevated:r},e.getItemProps({item:n,index:t,refKey:"innerRef"})),{children:[(0,c.tZ)(ee.Z,{css:be,children:(0,c.tZ)(ue.Z,{path:n.data.label})}),(0,c.tZ)($.xv,{css:Ee,color:r?"default":"dimmer",children:(0,c.tZ)(ye,{path:n.data.label,type:n.data.type})})]}),(0,re.k)(n))})),e.isLoading||0!==t.length?null:(0,c.tZ)($.xv,{color:"dimmest",css:[$.l0.px(8),$.l0.py(16),{textAlign:"center"}],children:"No results found"})]})}var Pe=(0,l.memo)(Ie),ke=t(61193),Te=t(65e3),Ue=t(12365),Ce=t(87588),Ge=t(53008),Se=t(83043),Ae=function(e){var n=e.filetreeApi;(0,Ue.S)(n);var t=(0,p.Z)().fs;return(0,Se.Yc)({fs:t}),null};function _e(e){return(0,c.tZ)(Ue.D,{children:(0,c.BX)(c.HY,{children:[(0,c.tZ)(Ae,{filetreeApi:e.filetreeApi}),(0,c.tZ)(Re,{readOnly:e.readOnly,showResources:e.showResources,showHeader:e.showHeader,showActionsRow:e.showActionsRow})]})})}var Re=l.memo((function(e){var n=e.readOnly,t=void 0!==n&&n,a=e.showResources,g=void 0===a||a,m=e.showHeader,w=void 0===m||m,y=e.showActionsRow,x=function(e){(0,I.Z)({replId:E,action:"added",source:"filetree",fileType:e}),se(e)},b=(0,F.Z)().showError,E=(0,T.Z)(),P=(0,ke.c)("flag-filetree-search"),k=P.enabled,G=(P.loading,(0,o.Z)(l.useState(null),2)),S=G[0],A=G[1],V=(0,p.Z)().fs,Y=(0,L.Z)(),J=function(e){var n=(0,o.Z)(l.useState(null),2),t=n[0],r=n[1],i=(0,o.Z)(l.useState(null),2),a=i[0],u=i[1];return l.useEffect((function(){if(a){var n=!1;return"rename"===a.type?(a.fileType===s.Tv.File?e.moveFile(a.path,a.to):e.moveDir(a.path,a.to)).then((function(e){n||(u(null),e.error&&r(e.error))})):(a.fileType===s.Tv.File?e.deleteFile(a.path):e.deleteDir(a.path)).then((function(e){n||(u(null),e.error&&r(e.error))})),function(){n=!0}}r(null)}),[a,e]),{renameNode:function(e){return u((0,z.Z)((0,K.Z)({},e),{type:"rename"}))},deleteNode:function(e){return u((0,z.Z)((0,K.Z)({},e),{type:"delete"}))},currentOp:a,error:t}}(V),ee=J.renameNode,ne=J.deleteNode,te=J.currentOp,re=J.error;l.useEffect((function(){re&&b("Something went wrong trying to move or remove a file.")}),[re,b]);var ie=(0,W.aE)({variables:{replId:E}}).data,oe="Repl"===(null===ie||void 0===ie?void 0:ie.repl.__typename)?ie.repl:void 0,ae=oe?oe.url:void 0,ue=l.useCallback((function(){var e=(ae||window.location.pathname)+".zip";window.open(e,"_blank")}),[ae]),ce=(0,Ce.rM)(),le=(0,Ge.Hc)(),se=l.useCallback(function(){var e=(0,i.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(n),!n||!ce){e.next=6;break}return e.next=4,V.stat(ce);case 4:e.sent.exists||le(Y||null);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[Y,ce,le,V]),de=(0,o.Z)(l.useState(null),2),pe=de[0],fe=de[1],he=Z({onDone:function(e){var n=e.parentPath,t=e.errors;if(t.length){var i=t.filter((function(e){return e.error===r.AlreadyExists}));i.length&&fe({parentPath:n,errors:i});var o=t.filter((function(e){return e.error!==r.AlreadyExists}));o.length&&b("There was an error uploading: ".concat(o.map((function(e){return e.path})).join(", ")))}},fs:V}),ve=he.uploadFiles,ge=he.pendingUploads,me=(0,o.Z)(l.useState(null),2),ye=me[0],xe=me[1],Ze=(0,o.Z)(l.useState(null),2),be=Ze[0],Ee=Ze[1],Ie=(0,X.Z)(M.H.Sidepane),Pe=(0,Te.Z)().isTutorial?null:Ie;return(0,c.tZ)(U.i.Provider,{value:{fs:V,pendingFileType:S,setPendingFileType:se,pendingUploads:ge,uploadFiles:ve,getNodeType:function(){var e=(0,i.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.readFile(n);case 2:return t=e.sent,e.abrupt("return",t.error===s.Df.IsDirectory?s.Tv.Directory:s.Tv.File);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),currentRenamePath:ye,setCurrentRenamePath:xe,pendingDelete:be,setPendingDelete:Ee,renameNode:ee,deleteNode:ne,currentOp:te,nodeOpError:re,overwriteNode:function(){var e=(0,i.Z)(u().mark((function e(n,t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.type===s.Tv.Directory?V.deleteDir:V.deleteFile,e.next=3,r(t.path);case 3:if(!e.sent.error){e.next=7;break}return b("Something went wrong trying to move: ".concat(n)),e.abrupt("return");case 7:ee({path:n,fileType:t.type,to:t.path});case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),duplicateFile:function(){var e=(0,i.Z)(u().mark((function e(n,t){var r,i,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Q((0,j.UO)(n),new Set(t)),i=(0,j.Il)(n),o=i?"".concat(i,"/").concat(r):r,e.next=5,V.copyFile(n,o);case 5:if(!(a=e.sent).error){e.next=9;break}return b(a.error),e.abrupt("return");case 9:xe(o);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},children:(0,c.tZ)(v.Z,{children:(0,c.BX)($.G7,{innerRef:Pe,css:[$.l0.height("100%"),(0,C.isMobile)()&&$.l0.backgroundColor.backgroundDefault],children:[w?(0,c.BX)($.G7,{css:[$.l0.flex.row,$.l0.justify.spaceBetween,$.l0.p(8)],children:[(0,c.tZ)(f.Z,{level:4,css:[{userSelect:"none"}],children:"Files"}),(0,c.BX)($.G7,{css:[$.l0.flex.row,$.l0.align.center],children:[t?null:(0,c.BX)(c.HY,{children:[(0,c.tZ)(O.Z,{css:[$.l0.color.foregroundDimmer],tooltipDelay:100,onClick:function(){x(s.Tv.File)},"data-cy":"filetree-add-file",alt:"Add file",children:(0,c.tZ)(H.Z,{})}),(0,c.tZ)($.G7,{css:{height:6,width:0,marginLeft:4,marginRight:4,borderRight:"1px solid var(--foreground-dimmest)"}}),(0,c.tZ)(O.Z,{css:[$.l0.color.foregroundDimmer],tooltipDelay:100,onClick:function(){x(s.Tv.Directory)},alt:"Add folder",children:(0,c.tZ)(N.Z,{})})]}),(0,c.tZ)(_,{readOnly:t,onDownloadZip:ue})]})]}):null,(0,c.BX)($.G7,{css:[$.l0.flex.growAndShrink(1),$.l0.position.relative],children:[w&&k&&!(0,C.isMobile)()?(0,c.tZ)($.G7,{css:[$.l0.px(8),$.l0.pb(8)],children:(0,c.tZ)(we,{})}):null,y?(0,c.BX)($.G7,{css:[$.l0.rowWithGap(4),$.l0.align.center,$.l0.px(8),$.l0.pb(4)],children:[(0,c.BX)($.G7,{css:[$.l0.flex.row,$.l0.align.center,$.l0.justify.spaceBetween,$.l0.flex.growAndShrink(1)],children:[(0,c.tZ)($.zx,{css:[$.l0.width("calc(50% - 4px)")],iconLeft:(0,c.tZ)(H.Z,{}),text:"File",small:!0,outlined:!0,"data-cy":"filetree-add-file",onClick:function(){x(s.Tv.File)}}),(0,c.tZ)($.zx,{css:[$.l0.width("calc(50% - 4px)")],iconLeft:(0,c.tZ)(N.Z,{}),text:"Folder",small:!0,outlined:!0,onClick:function(){x(s.Tv.Directory)}})]}),(0,c.tZ)(_,{readOnly:t,onDownloadZip:ue})]}):null,(0,c.tZ)($.G7,{css:[$.l0.flex.growAndShrink(1),{overflowY:"auto"}],children:(0,c.tZ)(h.Z,{siblings:[],readOnly:t,path:d.Ql})})]}),g?(0,c.tZ)(R.w,{}):null,(0,c.tZ)(B.Z,{isOpen:Boolean(pe),onRequestClose:function(){return fe(null)},children:pe?(0,c.tZ)(D.Z,{paths:pe.errors.map((function(e){return e.path})),onCancel:function(){return fe(null)},onConfirm:function(){ve({overwrite:!0,parentPath:pe.parentPath,files:pe.errors.map((function(e){return e.file}))}),fe(null)}}):null}),(0,c.tZ)(B.Z,{isOpen:Boolean(be),onRequestClose:function(){return Ee(null)},children:be?(0,c.tZ)(q.Z,{name:be.path,entityType:be.type===s.Tv.File?"file":"folder",hideModal:function(){return Ee(null)},delete:function(){Ee(null),ne({fileType:be.type,path:be.path})}}):null})]})})})}))},92364:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(29815),i=t(35944),o=t(9008),a=t.n(o),u=t(63377),c=t(40381),l=t(26042),s=t(7297),d=t(31230),p=t(37887);function f(){var e=(0,s.Z)(["\n  query WorkspacePageTitle($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        title\n      }\n    }\n  }\n"]);return f=function(){return e},e}var h={},v=(0,d.Ps)(f());function g(e){var n,t=e.prefix,o=void 0===t?"":t,s=e.suffix,d=void 0===s?"":s,f=(0,c.Z)(),g=function(e){var n=(0,l.Z)({},h,e);return p.a(v,n)}({variables:{replId:(0,u.Z)()}}),m=g.data||g.previousData,w="Repl"===(null===m||void 0===m||null===(n=m.repl)||void 0===n?void 0:n.__typename)?m.repl:null,y=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,r.Z)(n.filter(Boolean)).concat(["Replit"]).join(" - ")}(o,f,null===w||void 0===w?void 0:w.title,d);return(0,i.tZ)(a(),{children:(0,i.tZ)("title",{children:y},"title")})}},15912:function(e,n,t){t.d(n,{w:function(){return ue}});var r=t(10253),i=t(35944),o=t(98890),a=t(61193),u=t(21131),c=t(47568),l=t(26042),s=t(69396),d=t(34051),p=t.n(d),f=t(91131),h=t(67294),v=t(7787),g=t(39499),m=t.n(g),w=t(99408),y=t(83971),x=t(16965),Z="date '+%s%N' && cat /sys/fs/cgroup/cpu/cpuacct.usage /sys/fs/cgroup/cpu/cpu.cfs_quota_us /sys/fs/cgroup/cpu/cpu.cfs_period_us /sys/fs/cgroup/memory/memory.usage_in_bytes /sys/fs/cgroup/memory/memory.limit_in_bytes ",b="cat /repl/stats/subvolume_usage_bytes /repl/stats/subvolume_total_bytes";function E(e){return e/1024/1024}function I(e){return Math.round(100*(e+Number.EPSILON))/100}function P(){var e=(0,u.Z)((function(){return(0,f.cn)({wallTimeNanos:m().BigInt(0),cpuTimeNanos:m().BigInt(0),cpuUtilPercent:0,memoryUsageBytes:0,memoryLimitBytes:0,storageUsedBytes:0,storageTotalBytes:0})}),[]),n=(0,u.Z)((function(){return{cpu:{currentAtom:(0,f.cn)((function(n){return I(n(e).cpuUtilPercent)})),totalAtom:(0,f.cn)((function(){return 100}))},ram:{currentAtom:(0,f.cn)((function(n){return I(E(n(e).memoryUsageBytes))})),totalAtom:(0,f.cn)((function(n){return E(n(e).memoryLimitBytes)}))},disk:{currentAtom:(0,f.cn)((function(n){return E(n(e).storageUsedBytes)})),totalAtom:(0,f.cn)((function(n){return E(n(e).storageTotalBytes)}))}}}),[e]),t=(0,f.b9)(e);return function(e){var n=(0,w.Z)().container,t=(0,y.Z)(n),r=(0,x.Z)(e);h.useEffect((function(){var e=!1,n=null;function i(){return o.apply(this,arguments)}function o(){return(o=(0,c.Z)(p().mark((function o(){var a,u,c;return p().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,t({args:["bash","-c",Z]});case 3:if(u=o.sent,!e){o.next=6;break}return o.abrupt("return");case 6:if(null===u.error){o.next=9;break}return v.kg.error("Error running resource tracking command",{errorMessage:u.error}),o.abrupt("return");case 9:return o.next=11,t({args:["bash","-c",b]});case 11:if(c=o.sent,!e){o.next=14;break}return o.abrupt("return");case 14:if(null===c.error||(null===(a=c.output)||void 0===a?void 0:a.includes("No such file or directory"))){o.next=17;break}return v.kg.error("Error running storage command",{errorMessage:c.error}),o.abrupt("return");case 17:r.current({trackingResult:u,storageResult:c}),n=setTimeout(i,2e3);case 19:case"end":return o.stop()}}),o)})))).apply(this,arguments)}return i(),function(){e=!0,n&&clearTimeout(n)}}),[n,t,r])}((function(e){var n=e.trackingResult,r=e.storageResult;t((function(e){var t,i;try{t=function(e,n){if(6!==e.length)throw new Error("Received unexpected output from resource tracking command: ".concat(e));var t={wallTimeNanos:m().BigInt(0),cpuTimeNanos:m().BigInt(0),cpuUtilPercent:0,memoryUsageBytes:0,memoryLimitBytes:0,storageUsedBytes:0,storageTotalBytes:1073741824},r=e.map((function(e){return parseInt(e,10)}));if(r.includes(NaN))throw new Error("Could not parse one or more values from resource monitoring command: ".concat(e));var i=m().BigInt(e[0]),o=m().BigInt(e[1]),a=r[2],u=r[3],c=r[4],d=r[5];if(!(c>=0&&d>0))throw new Error("Memory usage or limit reported negative: ".concat(e));if(t.memoryUsageBytes=c,t.memoryLimitBytes=d,m().GT(n.wallTimeNanos,0)&&m().GT(n.cpuTimeNanos,0)){var p=m().toNumber(m().subtract(i,n.wallTimeNanos)),f=m().toNumber(m().subtract(o,n.cpuTimeNanos));if(p>0&&f>=0&&a>0&&u>0){var h=a/u;t.cpuUtilPercent=100*f/p/h}else{t.cpuUtilPercent=0;var g=JSON.stringify((0,s.Z)((0,l.Z)({},n),{wallTimeNanos:n.wallTimeNanos.toString(),cpuTimeNanos:n.cpuTimeNanos.toString()}));v.kg.error("CPU usage calculation returned negative value: ".concat(e,". Previous resources: ").concat(g))}}return t.wallTimeNanos=i,t.cpuTimeNanos=o,t}((n.output||"").trim().split("\n"),e)}catch(o){return v.kg.error("Could not calculate resources",{errorMessage:o.message}),e}if(!t)throw new Error("Expected resources");try{i=function(e){if(2!==e.length)throw new Error("Received unexpected output from storage command: ".concat(e));var n=parseInt(e[0],10),t=parseInt(e[1],10);if(isNaN(n)||isNaN(t))throw new Error("Could not parse values from storage output command: ".concat(e));return{storageUsedBytes:n,storageTotalBytes:t}}((r.output||"").trim().split("\n"))}catch(a){return v.kg.error("Could not calculate resources",{errorMessage:a.message}),e}return t.storageUsedBytes=i.storageUsedBytes,t.storageTotalBytes=i.storageTotalBytes,t}))})),n}var k=t(15085),T=t(48869),U=t(56124),C=t(4158),G=t(13331),S=t(88961),A=t(93058),_=t(88075),R=t(79257),B=t(41664),D=t.n(B),F=t(7297),O=t(31230),H=t(50319);function N(){var e=(0,F.Z)(["\n  mutation EnrollInGhostWriterBeta($input: UpdatePowerUpTrialInput!) {\n    updatePowerUpTrial(input: $input) {\n      __typename\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        hasGhostWriterBeta\n      }\n    }\n  }\n"]);return N=function(){return e},e}var L={},W=(0,O.Ps)(N());function M(e){var n=e.play,t=e.animationPath,r=e.placeholderPath,o=h.useRef(null);return h.useEffect((function(){n&&o.current&&o.current.play()}),[n]),(0,i.tZ)("video",{css:[k.l0.width(366),k.l0.height(366),k.l0.maxWidth("100%"),k.l0.borderRadius(8)],poster:r,autoPlay:n,loop:!0,ref:o,children:(0,i.tZ)("source",{src:t})})}function X(e){var n=e.isOpen,t=e.onRequestClose,o=e.onEnrollInBeta,a=(0,r.Z)(h.useState(!1),2),u=a[0],c=a[1],s=(0,r.Z)(h.useState(!1),2),d=s[0],p=s[1],f=(0,A.Z)().showError,v=(0,r.Z)(function(e){var n=(0,l.Z)({},L,e);return H.D(W,n)}({onCompleted:function(e){"CurrentUser"!==e.updatePowerUpTrial.__typename&&f(e.updatePowerUpTrial.message)},onError:function(e){f(e.message)}}),2),g=v[0],m=v[1].error;return(0,i.tZ)(k.u_,{isOpen:n,onRequestClose:function(){t(),c(!1)},centered:!0,maxWidth:400,children:(0,i.BX)(k.G7,{css:[k.l0.colWithGap(8)],children:[(0,i.BX)(k.G7,{dataCy:"power-up-modal",css:[k.l0.rowWithGap(8)],children:[(0,i.tZ)(R.Z,{}),(0,i.tZ)(k.xv,{variant:"subheadDefault",children:"Ghostwriter Public Beta"})]}),(0,i.tZ)(M,{animationPath:"/public/animations/cycles/ghost.mp4",placeholderPath:"/public/images/ghostwriter.jpg",play:d}),(0,i.BX)(k.Tg,{css:[k.l0.p(16),k.l0.borderRadius(8),k.l0.align.center],background:"highest",children:[u?null:(0,i.BX)(k.G7,{css:[k.l0.flex.column,k.l0.colWithGap(16),k.l0.align.center],children:[(0,i.tZ)(k.xv,{variant:"subheadDefault",multiline:!0,children:"Ghostwriter is Replit's AI-powered programming assistant that saves you time by suggesting code and entire functions while you're building."}),(0,i.tZ)(k.G7,{onMouseOver:function(){return p(!0)},onMouseLeave:function(){return p(!1)},children:(0,i.tZ)(k.zx,{text:"Join Ghostwriter Beta",big:!0,colorway:"primary",onClick:function(){p(!0),c(!0),o(),g({variables:{input:{active:!0}}})},css:[k.l0.px(16)]})}),(0,i.BX)(k.xv,{children:["Available for a limited time."," ",(0,i.tZ)(D(),{href:"https://docs.replit.com/programming-ide/Ghostwriter-FAQ",children:"Learn more"})]})]}),u&&null==m?(0,i.BX)(k.G7,{css:[k.l0.flex.column,k.l0.colWithGap(16),k.l0.align.center],children:[(0,i.BX)(k.xv,{dataCy:"power-up-activated",variant:"subheadDefault",css:[k.l0.color.accentPositiveStronger,k.l0.rowWithGap(8)],children:[(0,i.tZ)(_.Z,{size:16}),"ACTIVATED"]}),(0,i.tZ)(k.xv,{multiline:!0,variant:"subheadDefault",children:"Start typing in the editor to try Ghostwriter out."}),(0,i.tZ)(k.xv,{multiline:!0,variant:"text",children:"To turn Ghostwriter off, press the toggle in editor settings."})]}):null]})]})})}var j=t(149),K=t(34370),z=t(86292),V=t(54596),Y=t(37887);function Q(){var e=(0,F.Z)(["\n  query Ghostwriter {\n    currentUser {\n      id\n      hasGhostWriterBeta\n      userPowerUps {\n        __typename\n        ... on UserPowerUpDescriptionType {\n          id\n          ...UserPowerUp\n        }\n      }\n    }\n  }\n  ","\n"]);return Q=function(){return e},e}var $={},q=(0,O.Ps)(Q(),V.a);function J(e){var n,t=e.source,o=e.dismissible,u=void 0!==o&&o,s=function(e){var n=(0,l.Z)({},$,e);return Y.a(q,n)}(),d=s.data,f=s.loading,v=(0,r.Z)(h.useState(!1),2),g=v[0],m=v[1],w=(0,a.c)("flag-ghostwriter-public-beta"),y=w.enabled,x=(w.loading,(0,a.c)("flag-glowing-wrist")),Z=x.enabled;x.loading;if(f)return null;if(y)return(0,i.BX)(i.HY,{children:[(0,i.tZ)(X,{isOpen:g,onRequestClose:function(){return m(!1)},onEnrollInBeta:(0,c.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,z.j)(z.U3.GHOSTWRITER_BETA_ACTIVATED,{source:t}),e.next=3,new Promise((function(e){return setTimeout(e,5e3)}));case 3:m(!1);case 4:case"end":return e.stop()}}),e)})))}),(null===d||void 0===d||null===(n=d.currentUser)||void 0===n?void 0:n.hasGhostWriterBeta)?null:(0,i.tZ)(j.Z,{dismissible:u,onOptIn:function(){(0,z.j)(z.U3.GHOSTWRITER_BETA_MODAL_OPENED,{source:t}),m(!0)}})]});if(Z){var b,E=null===d||void 0===d||null===(b=d.currentUser)||void 0===b?void 0:b.userPowerUps,I=(null===E||void 0===E?void 0:E.find((function(e){return"ghostwriter"===e.type})))||null;if(null==I)return(0,i.tZ)(K.Z,{ghostwriterPowerUp:I,context:t,overrideDefaultComponent:!0})}return null}var ee=t(63377),ne=t(90317);function te(){var e=(0,F.Z)(["\n  query ReplResourcesCallToAction($replId: String!) {\n    currentUser {\n      id\n    }\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isBoosted\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        powerUpCosts {\n          ... on PowerUpCostsType {\n            boost {\n              cycles\n              explanation\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return te=function(){return e},e}var re,ie={},oe=(0,O.Ps)(te());function ae(){return function(e){var n;if(!e)return re.Nothing;var t="Repl"===(null===e||void 0===e?void 0:e.repl.__typename)?e.repl:void 0,r=(null===e||void 0===e?void 0:e.currentUser)?e.currentUser:void 0;return void 0===t||void 0===r||r.id!==(null===(n=t.owner)||void 0===n?void 0:n.id)||t.isBoosted||"PowerUpCostsType"!==t.powerUpCosts.__typename||t.powerUpCosts.boost.explanation!==ne.Ch.NeedsCycles?re.Nothing:re.Upgrade}(function(e){var n=(0,l.Z)({},ie,e);return Y.a(oe,n)}({variables:{replId:(0,ee.Z)()}}).data)}function ue(){var e=(0,r.Z)(h.useState(!1),2),n=e[0],t=e[1],o=(0,a.c)("flag-ghostwriter-public-beta"),u=o.enabled,c=(o.loading,(0,a.c)("flag-glowing-wrist")),l=c.enabled,s=(c.loading,u||l),d=P(),p=ae();return(0,i.tZ)(i.HY,{children:(0,i.tZ)(k.Tg,{css:[k.l0.p(8),s&&k.l0.colWithGap(8),{borderTop:"1px solid ".concat(k.TV.backgroundHigher)}],children:n?(0,i.tZ)(he,{resources:d,onClose:function(){return t(!1)},callToAction:p}):(0,i.BX)(i.HY,{children:[s?(0,i.tZ)(J,{dismissible:!0,source:"repl_resources"}):null,(0,i.tZ)(fe,{resources:d,onExpand:function(){return t(!0)}})]})})})}function ce(e){var n=e.textAtom,t=e.variant,r=e.className,o=(0,f.Dv)(n);return o?(0,i.tZ)(k.xv,{className:r,variant:t,children:o}):null}function le(e){var n=e.title,t=e.limitStatusAtom,r=e.limitTextAtom,o=e.description,a=e.inactive,c=void 0!==a&&a,l=(0,u.Z)((function(){return(0,f.cn)((function(e){var n=e(t);return"At limit"===n||"Close to limit"===n}))}),[t]),s=(0,f.Dv)(l);return(0,i.BX)(k.G7,{css:[k.l0.flex.row,k.l0.justify.spaceBetween,k.l0.align.end],children:[(0,i.BX)(k.G7,{css:[k.l0.rowWithGap(2),k.l0.align.center,k.l0.minHeight(k.TV.space24)],children:[(0,i.tZ)(k.xv,{css:{fontWeight:k.TV.fontWeightMedium},children:c?n+": last run":n}),o&&(0,i.tZ)(k.hU,{alt:o,size:24,children:(0,i.tZ)(C.Z,{})}),s&&(0,i.BX)(k.G7,{css:[k.l0.rowWithGap(4),k.l0.align.center,k.l0.pl(4)],children:[(0,i.tZ)(S.Z,{color:k.TV.orangeStronger}),(0,i.tZ)(ce,{textAtom:t,variant:"small",css:k.l0.pb(2)})]})]}),(0,i.tZ)(ce,{textAtom:r,variant:"small",css:k.l0.pb(2)})]})}function se(e){var n=e.title,t=e.totalAtom,r=e.currentAtom,o=e.description,a=e.measure,c=e.inactive,l=void 0!==c&&c,s=(0,u.Z)((function(){return(0,f.cn)((function(e){return me(e(r),e(t))}))}),[r,t]),d=(0,u.Z)((function(){return(0,f.cn)((function(e){return ye(e(s),e(r),e(t),a)}))}),[s,r,t,a]);return(0,i.BX)(k.G7,{css:k.l0.colWithGap(4),children:[(0,i.tZ)(le,{title:n,limitStatusAtom:s,limitTextAtom:d,description:o,inactive:l}),(0,i.tZ)(ge,{currentAtom:r,totalAtom:t,inactive:l,limitTextAtom:d})]})}function de(e){var n=e.title,t=e.doWarnAtom,r=e.inactive,o=void 0!==r&&r,a=(0,f.Dv)(t);return(0,i.BX)(k.G7,{css:[k.l0.rowWithGap(4),k.l0.align.center],children:[(0,i.tZ)(k.xv,{variant:"small",css:k.l0.color.foregroundDimmer,children:o?n+" last run":n}),a&&(0,i.tZ)(S.Z,{color:k.TV.orangeStronger})]})}function pe(e){var n=e.title,t=e.totalAtom,r=e.currentAtom,o=e.measure,a=e.inactive,c=void 0!==a&&a,l=(0,u.Z)((function(){return(0,f.cn)((function(e){return me(e(r),e(t))}))}),[r,t]),s=(0,u.Z)((function(){return(0,f.cn)((function(e){return ye(e(l),e(r),e(t),o)}))}),[l,r,t,o]),d=(0,u.Z)((function(){return(0,f.cn)((function(e){var n=e(l);return"At limit"===n||"Close to limit"===n}))}),[l]);return(0,i.BX)(k.G7,{css:[k.l0.colWithGap(4),k.l0.flex.grow(2),{flexBasis:32}],children:[(0,i.tZ)(de,{title:n,doWarnAtom:d,inactive:c}),(0,i.tZ)(ge,{currentAtom:r,totalAtom:t,inactive:c,limitTextAtom:s,mini:!0})]})}function fe(e){var n=e.resources,t=e.onExpand,r=e.inactive,o=void 0!==r&&r,a=n.cpu,u=n.ram,c=n.disk;return(0,i.BX)(k.G7,{css:[k.l0.reset.button,k.l0.rowWithGap(12),k.l0.justify.spaceBetween,k.l0.align.center,k.l0.focusRing,k.l0.cursor.pointer],role:"button",tag:"button","aria-expanded":!1,onClick:t,children:[(0,i.tZ)(pe,{title:"CPU",totalAtom:a.totalAtom,currentAtom:a.currentAtom,inactive:o}),(0,i.tZ)(pe,{title:"RAM",totalAtom:u.totalAtom,currentAtom:u.currentAtom,measure:"MB",inactive:o}),(0,i.tZ)(pe,{title:"Storage",totalAtom:c.totalAtom,currentAtom:c.currentAtom,measure:"MB",inactive:o}),(0,i.tZ)(U.Z,{})]})}function he(e){var n=e.callToAction,t=e.resources,r=e.onClose,o=e.inactive,a=void 0!==o&&o,u=t.cpu,c=t.ram,l=t.disk;return(0,i.BX)(k.G7,{css:k.l0.colWithGap(12),children:[(0,i.BX)(k.G7,{css:[k.l0.flex.row,k.l0.justify.spaceBetween],children:[(0,i.tZ)(k.xv,{variant:"subheadDefault",children:"Repl Resources"}),(0,i.tZ)(k.hU,{alt:"collapse",tooltipHidden:!0,onClick:r,"aria-expanded":!0,children:(0,i.tZ)(T.Z,{})})]}),(0,i.tZ)(se,{title:"CPU",description:"How much processing power your Repl is using",totalAtom:u.totalAtom,currentAtom:u.currentAtom,inactive:a}),(0,i.tZ)(se,{title:"RAM",description:"How much memory your Repl is using",totalAtom:c.totalAtom,currentAtom:c.currentAtom,measure:"MB",inactive:a}),(0,i.tZ)(se,{title:"Storage",description:"How much room your Repl has to store files",totalAtom:l.totalAtom,currentAtom:l.currentAtom,measure:"MB"}),(0,i.tZ)(ve,{callToAction:n})]})}function ve(e){var n=e.callToAction,t=null;return n===re.Upgrade?t=(0,i.BX)(i.HY,{children:[(0,i.tZ)(k.xv,{multiline:!0,children:"Low on resources?"}),(0,i.tZ)(o.Z,{context:"repl_resources"})]}):n===re.Boost&&(t=(0,i.BX)(i.HY,{children:[(0,i.tZ)(k.xv,{multiline:!0,children:"Low on resources? Try boosting your Repl."}),(0,i.tZ)(k.ZP,{href:"https://blog.replit.com/boosts",text:"Learn about Boosts",iconLeft:(0,i.tZ)(G.Z,{})})]})),(0,i.BX)(i.HY,{children:[t,(0,i.BX)(k.xv,{multiline:!0,children:[(0,i.tZ)("a",{href:"https://blog.replit.com/repl-resources",target:"_blank",children:"Learn more"})," ","about resource limits."]})]})}function ge(e){var n=e.currentAtom,t=e.totalAtom,r=e.limitTextAtom,o=e.inactive,a=e.mini,u=(0,f.Dv)(t),c=(0,f.Dv)(n),l=(0,f.Dv)(r),s=function(e){switch(e){case"empty":case"fine":default:return;case"At limit":return k.TV.accentNegativeDefault;case"Close to limit":return k.TV.orangeDefault}}(me(c,u));return(0,i.tZ)(k.JY,{css:a&&k.l0.height(8),total:u,current:c,color:s,disabled:o,tooltip:l})}function me(e,n){if(void 0===e)return"empty";var t=e/n;return t>=1?"At limit":t>=.9?"Close to limit":"fine"}function we(e){return Math.round(100*(e+Number.EPSILON))/100}function ye(e,n,t,r){if("empty"!==e&&void 0!==n)return void 0===r?we(n/t*100)+"%":we(n)+"/"+we(t)+" "+r}!function(e){e.Upgrade="UPGRADE",e.Boost="BOOST",e.Nothing="NOTHING"}(re||(re={}))},22371:function(e,n,t){t.d(n,{V:function(){return U},Z:function(){return C}});var r=t(47568),i=t(10253),o=t(34051),a=t.n(o),u=t(35944),c=t(67294),l=t(66681),s=t(15085),d=t(77365),p=t(79652),f=t(67629),h=t(48505),v=t(8941),g=t(48551),m=t(99408),w=t(65456),y=t(63377),x=t(35642);var Z,b=t(77352),E=t(15366),I=t(34385),P=t(43804),k=t(92162),T=t(51995),U=".tutorial";function C(){var e,n=(0,m.Z)().fs,t=(0,k.yR)(),o=(0,I.Z)(P.H.Sidepane),C=(0,i.Z)(c.useState([]),2),S=C[0],A=C[1],_=(0,i.Z)(c.useState(Z.Loading),2),R=_[0],B=_[1],D=(0,y.Z)(),F=(0,i.Z)(function(e,n){var t,r=(0,c.useState)((function(){return null!==(t=x.Z.get(e))&&void 0!==t?t:n})),i=r[0],o=r[1];return(0,c.useEffect)((function(){x.Z.set(e,i)}),[e,i]),[i,o]}("tutorialProgress--".concat(D),0),2),O=F[0],H=F[1],N=(0,i.Z)(c.useState(!1),2),L=N[0],W=N[1],M=c.useRef(null),X=(0,E.v9)((function(e){return e.user.userInfo})),j=X.isLoggedIn?"".concat(X.id):"",K=(0,b.jJ)(j,D),z=K?(0,u.tZ)(b.gC,{challenge:K}):null,V=c.useCallback((function(){M.current&&(M.current.scrollTop=0)}),[M]);return c.useEffect((function(){var e=!1,t=function(){var t=(0,r.Z)(a().mark((function t(){var r,o,u,c,l,s,d,p,f,h,v,m,y,x,b;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return B(Z.Loading),t.next=3,n.readDir(U);case 3:if(r=t.sent,!e){t.next=6;break}return t.abrupt("return");case 6:if(!r.error){t.next=9;break}return B(Z.Error),t.abrupt("return");case 9:return o=[],t.next=12,Promise.all(r.children.filter((function(e){return e.type===w.Tv.File&&"md"===(0,g.r6)(e.filename)})).map((function(e){var t="".concat(U,"/").concat(e.filename);return Promise.all([t,n.readFile(t)])})));case 12:if(u=t.sent,!e){t.next=15;break}return t.abrupt("return");case 15:for(c=!0,l=!1,s=void 0,t.prev=16,d=u[Symbol.iterator]();!(c=(p=d.next()).done);c=!0)f=(0,i.Z)(p.value,2),h=f[0],(v=f[1]).error?B(Z.Error):(y=v.content.toString(),x=RegExp("^#\\s(?<title>.*)"),b=x.exec(y),o.push({title:null===b||void 0===b||null===(m=b.groups)||void 0===m?void 0:m.title,content:y,path:h}));t.next=24;break;case 20:t.prev=20,t.t0=t.catch(16),l=!0,s=t.t0;case 24:t.prev=24,t.prev=25,c||null==d.return||d.return();case 27:if(t.prev=27,!l){t.next=30;break}throw s;case 30:return t.finish(27);case 31:return t.finish(24);case 32:A(o),B(Z.Ready);case 34:case"end":return t.stop()}}),t,null,[[16,20,24,32],[25,,27,31]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!0}}),[n]),R===Z.Loading?(0,u.tZ)(s.G7,{css:[s.l0.flex.growAndShrink(1),s.l0.center],children:(0,u.tZ)(d.Z,{})}):R===Z.Error?(0,u.tZ)(s.G7,{css:[s.l0.flex.growAndShrink(1),s.l0.center],children:(0,u.BX)(s.G7,{css:[s.l0.center,s.l0.colWithGap(4)],children:[(0,u.tZ)(f.Z,{color:s.TV.accentNegativeDefault}),(0,u.tZ)(s.xv,{color:"dimmer",children:"Failed to load tutorial"})]})}):0===S.length?(0,u.tZ)(s.G7,{css:[s.l0.flex.growAndShrink(1),s.l0.center],children:(0,u.BX)(s.G7,{css:[s.l0.center,s.l0.colWithGap(4)],children:[(0,u.tZ)(f.Z,{color:s.TV.accentNegativeDefault}),(0,u.tZ)(s.xv,{color:"dimmer",children:"No tutorials found!"})]})}):L?(0,u.BX)(s.G7,{css:[s.l0.overflowY("scroll"),s.l0.flex.growAndShrink(1),s.l0.p(8),s.l0.colWithGap(16)],children:[(0,u.tZ)(s.xv,{variant:"headerDefault",children:"Table of Contents"}),(0,u.tZ)(s.G7,{css:[s.l0.flex.growAndShrink(1),s.l0.colWithGap(8)],children:S.map((function(e,n){return(0,u.BX)(s.G7,{css:[s.l0.p(8),O===n?s.l0.backgroundColor.backgroundHighest:s.l0.backgroundColor.backgroundHigher,s.l0.borderRadius(4),s.l0.rowWithGap(8),s.l0.align.center,s.l0.cursor.pointer,O===n?{outline:"solid 2px var(--outline-dimmest)"}:{},{":hover":{outline:"solid 2px var(--outline-dimmest)"}}],onClick:function(){H(n),W(!1)},children:[(0,u.tZ)(s.G7,{css:[s.l0.backgroundColor.backgroundHighest,s.l0.width(20),s.l0.height(20),s.l0.borderRadius("full"),s.l0.center,{outline:"solid 1px var(--outline-dimmest)"}],children:(0,u.tZ)(s.xv,{variant:"small",color:"dimmest",children:n+1})}),(0,u.tZ)(s.xv,{css:[s.l0.maxWidth("80%")],children:e.title})]},e.title)}))})]}):(0,u.tZ)(s.G7,{innerRef:o,css:[s.l0.height("100%")],children:(0,u.BX)(s.G7,{dataCy:"tutorial-viewer-content",innerRef:M,css:[s.l0.overflowY("scroll"),s.l0.flex.growAndShrink(1),s.l0.p(16),s.l0.pb(48),s.l0.colWithGap(16)],children:[t?(0,u.tZ)(s.zx,{text:"Show tutorial video",iconLeft:(0,u.tZ)(T.Z,{}),onClick:function(){return t()}}):null,z,S.length>1&&(0,u.tZ)(s.zx,{text:"Table of Contents",iconLeft:(0,u.tZ)(p.Z,{}),onClick:function(){return W(!0)}}),(0,u.tZ)(l.Z,{fs:n,path:S[O].path,source:S[O].content,sourcePos:!1}),S.length>1&&(0,u.BX)(s.G7,{css:[s.l0.position.absolute,s.l0.width("100%"),s.l0.left(0),s.l0.bottom(0),s.l0.overflow("hidden")],children:[(0,u.tZ)(G,{progress:(O+1)/S.length}),(0,u.BX)(s.G7,{css:[s.l0.width("100%"),s.l0.height(40),s.l0.align.center,s.l0.flex.row],children:[(0,u.tZ)(s.G7,{tag:"button",css:[s.l0.justify.center,s.l0.p(8),s.l0.backgroundColor.backgroundHigher,s.l0.cursor.pointer,s.l0.width(40),s.l0.height("100%")],onClick:function(){O>0&&(H((function(e){return e-1})),V())},children:O>0&&(0,u.tZ)(h.Z,{size:24})}),(0,u.tZ)(s.G7,{tag:"button",css:[s.l0.rowWithGap(8),s.l0.flex.growAndShrink(1),s.l0.height("100%"),s.l0.justify.spaceBetween,s.l0.backgroundColor.backgroundHighest,s.l0.align.center,s.l0.p(8),s.l0.cursor.pointer,{userSelect:"none"}],onClick:function(){O<S.length-1&&(H((function(e){return e+1})),V())},children:O<S.length-1&&(0,u.BX)(u.HY,{children:[(0,u.BX)(s.xv,{css:[s.l0.flex.growAndShrink(1),s.l0.textAlign.left,s.l0.fontSize(s.TV.fontSizeSubheadDefault)],children:[(0,u.BX)("span",{css:[s.l0.color.foregroundDimmer],children:["Next",S[O+1].title?": ":" page"]}),(0,u.tZ)("b",{children:null!==(e=S[O+1].title)&&void 0!==e?e:""})]}),(0,u.tZ)(v.Z,{size:24})]})})]})]})]})})}!function(e){e.Ready="READY",e.Loading="LOADING",e.Error="ERROR"}(Z||(Z={}));var G=function(e){var n=e.progress;return(0,u.tZ)(s.u,{tooltip:"Progress: ".concat(n),children:(0,u.tZ)(s.G7,{css:[s.l0.width("100%"),s.l0.height(4),s.l0.backgroundColor.backgroundHigher],children:(0,u.tZ)(s.G7,{css:[s.l0.width("".concat(100*n,"%")),s.l0.height("100%"),s.l0.backgroundColor.purpleDefault]})})})}},57353:function(e,n,t){t.d(n,{T:function(){return w}});var r=t(67294),i=t(65977),o=t(63377),a=t(26042),u=t(7297),c=t(31230),l=t(37887);function s(){var e=(0,u.Z)(["\n  query ShouldHideFileInWorkspace($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isProjectFork\n        isModelSolution\n        isModelSolutionFork\n      }\n    }\n  }\n"]);return s=function(){return e},e}var d={},p=(0,c.Ps)(s());function f(e){var n=(0,a.Z)({},d,e);return l.a(p,n)}var h=t(25741),v=t(69183),g=t(76216),m=t(84810),w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,o.Z)(),t=(0,g.Z)(),a=f({variables:{replId:n}}),u=a.data,c=a.loading,l="Repl"===(null===u||void 0===u?void 0:u.repl.__typename)&&(u.repl.isProjectFork||u.repl.isModelSolution||u.repl.isModelSolutionFork),s=(0,i.O)(),d=(0,h.Z)();return r.useCallback((function(n){return!!((l||c)&&(0,v.oA)(n)||(0,v.MF)(n))||!d&&(e&&(0,v.uC)(n)||(0,m.C)(n)||(0,v.yb)(n,t)||(0,v.lv)(n,s))}),[l,c,t,d,s,e])}},58967:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(48551),i=t(7787),o=t(77402),a=new Map,u=function(e){var n=a.get(e);if(void 0!==n){var t=n.start,r=n.source,u=window.performance.now(),c=(0,o.V)(e);i.kg.time("time to load file",u-t,{from:r,fileViewerType:c}),a.delete(e)}};function c(e){return{trackTimeToLoadFileStart:function(n){return function(e,n){if((0,r.Mb)(e)){var t=window.performance.now();a.set(e,{start:t,source:n})}}(n,e)},trackTimeToLoadFileEnd:u}}},58360:function(e,n,t){t.d(n,{p:function(){return I}});var r=t(26042),i=t(69396),o=t(63377),a=t(99408),u=t(3032),c=t(69453),l=t(58967),s=t(67294),d=t(57353),p=t(61193),f=t(21131),h=t(15519),v=t(76216),g=t(10253),m=t(25497),w=t(6625),y=t(48551),x=function(){var e=(0,v.Z)(),n=function(){var e=(0,a.Z)().dotReplit,n=(0,w.Z)(),t=(0,g.Z)(s.useState(null),2),r=t[0],i=t[1];return s.useEffect((function(){return e.watch((function(e){var t;n.current&&(e.error?e.error===m.Yt.NotFound&&i(null):i(null!==(t=e.config.entrypoint)&&void 0!==t?t:null))}))}),[e]),r}()||h.Z.getMainFileName(e);return s.useCallback((function(e,t){return(0,y.x$)(e,t,n)}),[n])},Z=t(40381),b=t(93058),E=t(46091),I=function(){var e=(0,p.c)("flag-filetree-multiselect"),n=e.enabled,t=(e.loading,(0,Z.Z)()),h=function(){var e=(0,o.Z)(),n=(0,a.Z)().session,t=(0,l.Z)("fileTree").trackTimeToLoadFileStart,i=(0,u.C)();return s.useCallback((function(o,a){var u=a.newTab,l=a.newPane;t(o);var s={action:"select",source:"filetree"};u?s={action:"newTab",source:"filetree"}:l&&(s={action:"newPane",source:"filetree"}),(0,c.Z)((0,r.Z)({replId:e},s)),l?i({path:o,newPane:!0}):n.openFile(o,{newTab:u})}),[i,e,n,t])}(),v=(0,d.T)(!0),g=x(),m=(0,a.Z)().fs,w=(0,b.Z)().showError,y=(0,o.Z)(),I=(0,s.useCallback)((function(e){(0,c.Z)((0,i.Z)((0,r.Z)({},e),{replId:y}))}),[y]),P=(0,E.N)();return(0,f.Z)((function(){return{flags:{flagFiletreeMultiselect:n},activeFile:t,openFile:h,shouldHideFile:v,sortNode:g,readFile:m.readFile,onError:w,onAction:I,onFileDragEnd:P}}),[t,n,m.readFile,I,h,v,w,g,P])}}}]);
//# sourceMappingURL=6496-e2f13b6139337d83.js.map